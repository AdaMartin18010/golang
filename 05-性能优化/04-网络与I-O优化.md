# ç½‘ç»œä¸I/Oä¼˜åŒ–

## ğŸ“š **ç†è®ºåˆ†æ**

- ç½‘ç»œä¸I/Oå¸¸ä¸ºæ€§èƒ½ç“¶é¢ˆï¼Œæ¶‰åŠè¿æ¥ç®¡ç†ã€ç¼“å†²ã€å¼‚æ­¥å¤„ç†ã€åè®®é€‰æ‹©ç­‰ã€‚
- å…³æ³¨ç‚¹ï¼šè¿æ¥å¤ç”¨ã€é›¶æ‹·è´ã€æ‰¹é‡å¤„ç†ã€å¼‚æ­¥I/Oã€è¶…æ—¶æ§åˆ¶ã€‚

## ğŸ› ï¸ **å¸¸ç”¨å·¥å…·**

- pprof nettrace
- go tool trace
- tcpdump/wireshark

## ğŸ’» **ä»£ç ç¤ºä¾‹**

### **è¿æ¥æ± å¤ç”¨**

```go
import "net/http"
tr := &http.Transport{
    MaxIdleConns:       100,
    IdleConnTimeout:    90 * time.Second,
}
client := &http.Client{Transport: tr}
```

### **é«˜æ•ˆæ–‡ä»¶I/O**

```go
import "os"
file, _ := os.OpenFile("data.txt", os.O_RDWR|os.O_CREATE, 0755)
buf := make([]byte, 4096)
file.Read(buf) // ä½¿ç”¨ç¼“å†²åŒº
```

### **å¼‚æ­¥I/Oä¸Goroutine**

```go
go func() {
    // å¼‚æ­¥å¤„ç†I/O
}()
```

## ğŸ¯ **æœ€ä½³å®è·µ**

- åˆç†è®¾ç½®è¿æ¥æ± å‚æ•°ï¼Œå‡å°‘é¢‘ç¹å»ºè¿
- ä½¿ç”¨ç¼“å†²åŒºï¼Œå‡å°‘ç³»ç»Ÿè°ƒç”¨
- æ‰¹é‡å¤„ç†I/Oï¼Œæå‡åå
- è®¾ç½®è¶…æ—¶ï¼Œé˜²æ­¢é˜»å¡
- ç›‘æ§ç½‘ç»œå»¶è¿Ÿä¸ä¸¢åŒ…

## ğŸ” **å¸¸è§é—®é¢˜**

- Q: Goçš„httpè¿æ¥æ± å¦‚ä½•é…ç½®ï¼Ÿ
  A: é€šè¿‡http.Transportè®¾ç½®MaxIdleConnsç­‰å‚æ•°
- Q: å¦‚ä½•é¿å…I/Oé˜»å¡ï¼Ÿ
  A: ä½¿ç”¨å¼‚æ­¥å¤„ç†ã€è®¾ç½®è¶…æ—¶ã€åˆç†åˆ†é…Goroutine

## ğŸ“š **æ‰©å±•é˜…è¯»**

- [Goç½‘ç»œç¼–ç¨‹ä¼˜åŒ–](https://geektutu.com/post/hpg-golang-net.html)
- [Goå®˜æ–¹net/httpæ–‡æ¡£](https://golang.org/pkg/net/http/)

---

**æ–‡æ¡£ç»´æŠ¤è€…**: AI Assistant  
**æœ€åæ›´æ–°**: 2024å¹´6æœˆ27æ—¥  
**æ–‡æ¡£çŠ¶æ€**: å®Œæˆ
