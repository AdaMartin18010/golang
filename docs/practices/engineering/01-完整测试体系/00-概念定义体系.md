# 概念定义体系

**版本**: v1.0
**更新日期**: 2025-11-11
**适用于**: Go 1.25.3

---

## 📋 目录

- [概念定义体系](#概念定义体系)
  - [📋 目录](#-目录)
  - [核心概念](#核心概念)
    - [1. 单元测试](#1-单元测试)
    - [2. 表格驱动测试](#2-表格驱动测试)
    - [3. 性能测试](#3-性能测试)
    - [4. 模糊测试](#4-模糊测试)
    - [5. 数据竞争检测](#5-数据竞争检测)
  - [🔗 相关文档](#-相关文档)

---

## 核心概念

### 1. 单元测试

**定义**: 测试单个函数或方法的正确性

**示例**:

```go
func TestAdd(t *testing.T) {
    result := Add(1, 2)
    if result != 3 {
        t.Errorf("Add(1, 2) = %d; want 3", result)
    }
}
```

---

### 2. 表格驱动测试

**定义**: 使用表格组织测试用例

**示例**:

```go
func TestAdd(t *testing.T) {
    tests := []struct {
        a, b, want int
    }{
        {1, 2, 3},
        {0, 0, 0},
        {-1, 1, 0},
    }

    for _, tt := range tests {
        if got := Add(tt.a, tt.b); got != tt.want {
            t.Errorf("Add(%d, %d) = %d, want %d",
                tt.a, tt.b, got, tt.want)
        }
    }
}
```

---

### 3. 性能测试

**定义**: 测试代码性能

**示例**:

```go
func BenchmarkAdd(b *testing.B) {
    for i := 0; i < b.N; i++ {
        Add(1, 2)
    }
}

// Go 1.25.3: 测试greenteagc
// GOEXPERIMENT=greenteagc go test -bench=.
```

---

### 4. 模糊测试

**定义**: 自动生成测试输入，发现边界问题

**示例**:

```go
func FuzzAdd(f *testing.F) {
    f.Add(1, 2)
    f.Fuzz(func(t *testing.T, a, b int) {
        result := Add(a, b)
        if result != a+b {
            t.Errorf("Add(%d, %d) = %d, want %d",
                a, b, result, a+b)
        }
    })
}
```

---

### 5. 数据竞争检测

**定义**: 检测并发代码的数据竞争

**使用**:

```bash
go test -race ./...
```

**Go 1.25.3改进**:

- 容器环境自动适配
- 更准确的检测

---

## 🔗 相关文档
