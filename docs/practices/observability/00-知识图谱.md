# Goå¯è§‚æµ‹æ€§ - çŸ¥è¯†å›¾è°±

**ç‰ˆæœ¬**: v1.0  
**æ›´æ–°æ—¥æœŸ**: 2025-10-28  
**é€‚ç”¨äº**: Go 1.25.3  
**æ–‡ä»¶å¤¹**: practices/observability

---

## ğŸ“‹ ç›®å½•



- [1. çŸ¥è¯†ç»“æ„æ ‘](#1-çŸ¥è¯†ç»“æ„æ ‘)
- [2. å¯è§‚æµ‹æ€§ä¸‰æ”¯æŸ±](#2-å¯è§‚æµ‹æ€§ä¸‰æ”¯æŸ±)
  - [2.1 ä¸‰æ”¯æŸ±å…³ç³»](#21-ä¸‰æ”¯æŸ±å…³ç³»)
  - [2.2 äº’è¡¥ä½œç”¨](#22-äº’è¡¥ä½œç”¨)
- [3. å­¦ä¹ è·¯å¾„](#3-å­¦ä¹ è·¯å¾„)
  - [ğŸ¯ åˆçº§è·¯å¾„ (1-2ä¸ªæœˆ)](#-åˆçº§è·¯å¾„-1-2ä¸ªæœˆ)
  - [ğŸš€ ä¸­çº§è·¯å¾„ (2-3ä¸ªæœˆ)](#-ä¸­çº§è·¯å¾„-2-3ä¸ªæœˆ)
  - [ğŸ’ é«˜çº§è·¯å¾„ (æŒç»­)](#-é«˜çº§è·¯å¾„-æŒç»­)
- [4. æ ¸å¿ƒæ¦‚å¿µæ¸…å•](#4-æ ¸å¿ƒæ¦‚å¿µæ¸…å•)
  - [ğŸ“Š Metrics (8ä¸ª)](#-metrics-8ä¸ª)
  - [ğŸ“ Logging (6ä¸ª)](#-logging-6ä¸ª)
  - [ğŸ” Tracing (7ä¸ª)](#-tracing-7ä¸ª)
  - [ğŸš¨ Alerting (5ä¸ª)](#-alerting-5ä¸ª)
- [5. Goå®è·µå»ºè®®](#5-goå®è·µå»ºè®®)
  - [ğŸ¯ Metricså®è·µ (Prometheus)](#-metricså®è·µ-prometheus)
  - [ğŸ¯ Loggingå®è·µ (zap)](#-loggingå®è·µ-zap)
  - [ğŸ¯ Tracingå®è·µ (OpenTelemetry)](#-tracingå®è·µ-opentelemetry)
  - [ğŸ’¡ æœ€ä½³å®è·µ](#-æœ€ä½³å®è·µ)
- [ğŸ”— ç›¸å…³æ–‡æ¡£](#-ç›¸å…³æ–‡æ¡£)

## 1. çŸ¥è¯†ç»“æ„æ ‘

```text
Goå¯è§‚æµ‹æ€§å®Œæ•´ä½“ç³» (Observability)
â”‚
â”œâ”€â”€ ğŸ“Š Metrics (ç›‘æ§æŒ‡æ ‡)
â”‚   â”œâ”€â”€ æŒ‡æ ‡ç±»å‹
â”‚   â”‚   â”œâ”€â”€ Counter (è®¡æ•°å™¨)
â”‚   â”‚   â”œâ”€â”€ Gauge (ä»ªè¡¨ç›˜)
â”‚   â”‚   â”œâ”€â”€ Histogram (ç›´æ–¹å›¾)
â”‚   â”‚   â””â”€â”€ Summary (æ‘˜è¦)
â”‚   â”œâ”€â”€ ç›‘æ§ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ Prometheus
â”‚   â”‚   â”‚   â”œâ”€â”€ æ•°æ®æ¨¡å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ PromQLæŸ¥è¯¢
â”‚   â”‚   â”‚   â”œâ”€â”€ æŠ“å–é…ç½®
â”‚   â”‚   â”‚   â””â”€â”€ æœåŠ¡å‘ç°
â”‚   â”‚   â”œâ”€â”€ Grafana
â”‚   â”‚   â”‚   â”œâ”€â”€ Dashboardè®¾è®¡
â”‚   â”‚   â”‚   â”œâ”€â”€ Panelé…ç½®
â”‚   â”‚   â”‚   â”œâ”€â”€ å‘Šè­¦è§„åˆ™
â”‚   â”‚   â”‚   â””â”€â”€ æ•°æ®æºé›†æˆ
â”‚   â”‚   â”œâ”€â”€ VictoriaMetrics
â”‚   â”‚   â””â”€â”€ InfluxDB
â”‚   â”œâ”€â”€ GoæŒ‡æ ‡åº“
â”‚   â”‚   â”œâ”€â”€ prometheus/client_golang
â”‚   â”‚   â”œâ”€â”€ go-metrics
â”‚   â”‚   â””â”€â”€ statsd
â”‚   â””â”€â”€ å…³é”®æŒ‡æ ‡
â”‚       â”œâ”€â”€ RED (Rate, Errors, Duration)
â”‚       â”œâ”€â”€ USE (Utilization, Saturation, Errors)
â”‚       â”œâ”€â”€ å››ä¸ªé»„é‡‘æŒ‡æ ‡
â”‚       â””â”€â”€ SLI/SLO/SLA
â”‚
â”œâ”€â”€ ğŸ“ Logging (æ—¥å¿—)
â”‚   â”œâ”€â”€ æ—¥å¿—çº§åˆ«
â”‚   â”‚   â”œâ”€â”€ TRACE/DEBUG
â”‚   â”‚   â”œâ”€â”€ INFO
â”‚   â”‚   â”œâ”€â”€ WARN/ERROR
â”‚   â”‚   â””â”€â”€ FATAL/PANIC
â”‚   â”œâ”€â”€ æ—¥å¿—æ ¼å¼
â”‚   â”‚   â”œâ”€â”€ ç»“æ„åŒ–æ—¥å¿— (JSON)
â”‚   â”‚   â”œâ”€â”€ æ—¥å¿—å­—æ®µæ ‡å‡†åŒ–
â”‚   â”‚   â”œâ”€â”€ TraceIDå…³è”
â”‚   â”‚   â””â”€â”€ ä¸Šä¸‹æ–‡ä¼ é€’
â”‚   â”œâ”€â”€ æ—¥å¿—åº“
â”‚   â”‚   â”œâ”€â”€ slog (æ ‡å‡†åº“ Go 1.21+)
â”‚   â”‚   â”œâ”€â”€ zap (é«˜æ€§èƒ½)
â”‚   â”‚   â”œâ”€â”€ logrus
â”‚   â”‚   â””â”€â”€ zerolog
â”‚   â”œâ”€â”€ æ—¥å¿—é‡‡é›†
â”‚   â”‚   â”œâ”€â”€ Filebeat
â”‚   â”‚   â”œâ”€â”€ Fluentd
â”‚   â”‚   â”œâ”€â”€ Logstash
â”‚   â”‚   â””â”€â”€ Fluent Bit
â”‚   â”œâ”€â”€ æ—¥å¿—èšåˆ
â”‚   â”‚   â”œâ”€â”€ ELK Stack
â”‚   â”‚   â”‚   â”œâ”€â”€ Elasticsearch
â”‚   â”‚   â”‚   â”œâ”€â”€ Logstash
â”‚   â”‚   â”‚   â””â”€â”€ Kibana
â”‚   â”‚   â”œâ”€â”€ Loki + Grafana
â”‚   â”‚   â”œâ”€â”€ Splunk
â”‚   â”‚   â””â”€â”€ CloudWatch Logs
â”‚   â””â”€â”€ æ—¥å¿—ç®¡ç†
â”‚       â”œâ”€â”€ æ—¥å¿—é‡‡æ ·
â”‚       â”œâ”€â”€ æ—¥å¿—è½®è½¬
â”‚       â”œâ”€â”€ æ—¥å¿—å‹ç¼©
â”‚       â””â”€â”€ æ—¥å¿—ä¿ç•™ç­–ç•¥
â”‚
â”œâ”€â”€ ğŸ” Tracing (é“¾è·¯è¿½è¸ª)
â”‚   â”œâ”€â”€ è¿½è¸ªæ ‡å‡†
â”‚   â”‚   â”œâ”€â”€ OpenTelemetry
â”‚   â”‚   â”œâ”€â”€ OpenTracing (å·²åºŸå¼ƒ)
â”‚   â”‚   â””â”€â”€ Zipkinæ ‡å‡†
â”‚   â”œâ”€â”€ è¿½è¸ªç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ Jaeger
â”‚   â”‚   â”‚   â”œâ”€â”€ Agent/Collector
â”‚   â”‚   â”‚   â”œâ”€â”€ å­˜å‚¨åç«¯
â”‚   â”‚   â”‚   â”œâ”€â”€ UIæŸ¥è¯¢
â”‚   â”‚   â”‚   â””â”€â”€ é‡‡æ ·ç­–ç•¥
â”‚   â”‚   â”œâ”€â”€ Zipkin
â”‚   â”‚   â”œâ”€â”€ SkyWalking
â”‚   â”‚   â””â”€â”€ AWS X-Ray
â”‚   â”œâ”€â”€ Goè¿½è¸ªåº“
â”‚   â”‚   â”œâ”€â”€ opentelemetry-go
â”‚   â”‚   â”œâ”€â”€ jaeger-client-go
â”‚   â”‚   â””â”€â”€ zipkin-go
â”‚   â”œâ”€â”€ è¿½è¸ªæ¦‚å¿µ
â”‚   â”‚   â”œâ”€â”€ Trace (è¿½è¸ª)
â”‚   â”‚   â”œâ”€â”€ Span (è·¨åº¦)
â”‚   â”‚   â”œâ”€â”€ Contextä¼ æ’­
â”‚   â”‚   â””â”€â”€ Baggage
â”‚   â””â”€â”€ é‡‡æ ·ç­–ç•¥
â”‚       â”œâ”€â”€ å¤´éƒ¨é‡‡æ ·
â”‚       â”œâ”€â”€ å°¾éƒ¨é‡‡æ ·
â”‚       â”œâ”€â”€ è‡ªé€‚åº”é‡‡æ ·
â”‚       â””â”€â”€ é”™è¯¯é‡‡æ ·
â”‚
â”œâ”€â”€ ğŸš¨ Alerting (å‘Šè­¦)
â”‚   â”œâ”€â”€ å‘Šè­¦ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ AlertManager (Prometheus)
â”‚   â”‚   â”œâ”€â”€ PagerDuty
â”‚   â”‚   â”œâ”€â”€ OpsGenie
â”‚   â”‚   â””â”€â”€ é’‰é’‰/ä¼ä¸šå¾®ä¿¡
â”‚   â”œâ”€â”€ å‘Šè­¦è§„åˆ™
â”‚   â”‚   â”œâ”€â”€ é˜ˆå€¼å‘Šè­¦
â”‚   â”‚   â”œâ”€â”€ è¶‹åŠ¿å‘Šè­¦
â”‚   â”‚   â”œâ”€â”€ å¼‚å¸¸æ£€æµ‹
â”‚   â”‚   â””â”€â”€ å¤åˆæ¡ä»¶
â”‚   â”œâ”€â”€ å‘Šè­¦çº§åˆ«
â”‚   â”‚   â”œâ”€â”€ Critical (P0)
â”‚   â”‚   â”œâ”€â”€ High (P1)
â”‚   â”‚   â”œâ”€â”€ Medium (P2)
â”‚   â”‚   â””â”€â”€ Low (P3)
â”‚   â”œâ”€â”€ å‘Šè­¦ç­–ç•¥
â”‚   â”‚   â”œâ”€â”€ å‘Šè­¦è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ å‘Šè­¦é™é»˜
â”‚   â”‚   â”œâ”€â”€ å‘Šè­¦æŠ‘åˆ¶
â”‚   â”‚   â””â”€â”€ å‘Šè­¦èšåˆ
â”‚   â””â”€â”€ On-Callç®¡ç†
â”‚       â”œâ”€â”€ å€¼ç­è½®æ¢
â”‚       â”œâ”€â”€ å‡çº§ç­–ç•¥
â”‚       â””â”€â”€ å“åº”SLA
â”‚
â”œâ”€â”€ ğŸ“ˆ APM (åº”ç”¨æ€§èƒ½ç›‘æ§)
â”‚   â”œâ”€â”€ APMå¹³å°
â”‚   â”‚   â”œâ”€â”€ New Relic
â”‚   â”‚   â”œâ”€â”€ Datadog
â”‚   â”‚   â”œâ”€â”€ Dynatrace
â”‚   â”‚   â”œâ”€â”€ AppDynamics
â”‚   â”‚   â””â”€â”€ SkyWalking
â”‚   â”œâ”€â”€ æ€§èƒ½æŒ‡æ ‡
â”‚   â”‚   â”œâ”€â”€ å“åº”æ—¶é—´
â”‚   â”‚   â”œâ”€â”€ ååé‡
â”‚   â”‚   â”œâ”€â”€ é”™è¯¯ç‡
â”‚   â”‚   â””â”€â”€ Apdexåˆ†æ•°
â”‚   â”œâ”€â”€ äº‹åŠ¡è¿½è¸ª
â”‚   â”‚   â”œâ”€â”€ Webäº‹åŠ¡
â”‚   â”‚   â”œâ”€â”€ åå°ä»»åŠ¡
â”‚   â”‚   â”œâ”€â”€ æ•°æ®åº“æŸ¥è¯¢
â”‚   â”‚   â””â”€â”€ å¤–éƒ¨è°ƒç”¨
â”‚   â””â”€â”€ æ€§èƒ½åˆ†æ
â”‚       â”œâ”€â”€ CPU Profile
â”‚       â”œâ”€â”€ Memory Profile
â”‚       â”œâ”€â”€ Goroutine Profile
â”‚       â””â”€â”€ ç«ç„°å›¾
â”‚
â”œâ”€â”€ ğŸ”§ å®æ–½å·¥å…·
â”‚   â”œâ”€â”€ OpenTelemetry (OTEL)
â”‚   â”‚   â”œâ”€â”€ Collector
â”‚   â”‚   â”œâ”€â”€ SDK
â”‚   â”‚   â”œâ”€â”€ è‡ªåŠ¨æ³¨å…¥
â”‚   â”‚   â””â”€â”€ åè®® (OTLP)
â”‚   â”œâ”€â”€ æœåŠ¡ç½‘æ ¼é›†æˆ
â”‚   â”‚   â”œâ”€â”€ Istio
â”‚   â”‚   â”œâ”€â”€ Linkerd
â”‚   â”‚   â””â”€â”€ Envoy
â”‚   â”œâ”€â”€ äº‘åŸç”Ÿå·¥å…·
â”‚   â”‚   â”œâ”€â”€ K8s Dashboard
â”‚   â”‚   â”œâ”€â”€ Prometheus Operator
â”‚   â”‚   â”œâ”€â”€ Grafana Operator
â”‚   â”‚   â””â”€â”€ Loki Operator
â”‚   â””â”€â”€ å¼€æºæ–¹æ¡ˆ
â”‚       â”œâ”€â”€ è½»é‡çº§æ ˆ (Prometheus+Loki+Tempo+Grafana)
â”‚       â”œâ”€â”€ ELKæ ˆ
â”‚       â””â”€â”€ å®Œæ•´OTELæ ˆ
â”‚
â””â”€â”€ ğŸ¯ æœ€ä½³å®è·µ
    â”œâ”€â”€ SLI/SLO/SLAå®šä¹‰
    â”œâ”€â”€ é”™è¯¯é¢„ç®—
    â”œâ”€â”€ å‘Šè­¦é™å™ª
    â”œâ”€â”€ æˆæœ¬ä¼˜åŒ–
    â”œâ”€â”€ æ•°æ®ä¿ç•™ç­–ç•¥
    â””â”€â”€ éšç§åˆè§„
```

---

## 2. å¯è§‚æµ‹æ€§ä¸‰æ”¯æŸ±

### 2.1 ä¸‰æ”¯æŸ±å…³ç³»

```text
å¯è§‚æµ‹æ€§ = Metrics + Logging + Tracing

Metrics (What)     â†’ ä»€ä¹ˆå‡ºé—®é¢˜äº†ï¼Ÿ
Logging (Why)      â†’ ä¸ºä»€ä¹ˆå‡ºé—®é¢˜ï¼Ÿ
Tracing (Where)    â†’ å“ªé‡Œå‡ºé—®é¢˜äº†ï¼Ÿ

å…³è”æ–¹å¼:
â”œâ”€â”€ TraceID: å…³è”æ—¥å¿—å’Œè¿½è¸ª
â”œâ”€â”€ æ—¶é—´æˆ³: å…³è”æŒ‡æ ‡å’Œæ—¥å¿—
â””â”€â”€ æ ‡ç­¾: ç»Ÿä¸€ç»´åº¦æŸ¥è¯¢
```

### 2.2 äº’è¡¥ä½œç”¨

| æ”¯æŸ± | ä¼˜åŠ¿ | å±€é™ | äº’è¡¥ |
|------|------|------|------|
| **Metrics** | é«˜æ•ˆèšåˆï¼Œè¶‹åŠ¿åˆ†æ | ç¼ºä¹ç»†èŠ‚ | + LoggingæŸ¥çœ‹è¯¦æƒ… |
| **Logging** | è¯¦ç»†ä¸Šä¸‹æ–‡ï¼Œè°ƒè¯•å‹å¥½ | æˆæœ¬é«˜ï¼ŒæŸ¥è¯¢æ…¢ | + Metricså®šä½æ—¶é—´ |
| **Tracing** | å®Œæ•´é“¾è·¯ï¼Œæ€§èƒ½ç“¶é¢ˆ | é‡‡æ ·é™åˆ¶ | + LoggingæŸ¥çœ‹æ—¥å¿— |

---

## 3. å­¦ä¹ è·¯å¾„

### ğŸ¯ åˆçº§è·¯å¾„ (1-2ä¸ªæœˆ)

```text
Phase 1: MetricsåŸºç¡€ (2-3å‘¨)
â”œâ”€â”€ PrometheusåŸºç¡€
â”œâ”€â”€ prometheus/client_golang
â”œâ”€â”€ åŸºæœ¬æŒ‡æ ‡é‡‡é›†
â””â”€â”€ Grafanaç®€å•Dashboard

Phase 2: Loggingå®è·µ (2-3å‘¨)
â”œâ”€â”€ zap/slogä½¿ç”¨
â”œâ”€â”€ ç»“æ„åŒ–æ—¥å¿—
â”œâ”€â”€ æ—¥å¿—çº§åˆ«ç®¡ç†
â””â”€â”€ åŸºæœ¬æ—¥å¿—æ”¶é›†

Phase 3: åŸºç¡€ç›‘æ§ (2-3å‘¨)
â”œâ”€â”€ REDæŒ‡æ ‡ç›‘æ§
â”œâ”€â”€ åŸºæœ¬å‘Šè­¦è§„åˆ™
â”œâ”€â”€ ç®€å•Dashboard
â””â”€â”€ æ—¥å¿—æŸ¥è¯¢
```

### ğŸš€ ä¸­çº§è·¯å¾„ (2-3ä¸ªæœˆ)

```text
Phase 4: å®Œæ•´Metrics (3-4å‘¨)
â”œâ”€â”€ å››ä¸ªé»„é‡‘æŒ‡æ ‡
â”œâ”€â”€ USEæ–¹æ³•è®º
â”œâ”€â”€ è‡ªå®šä¹‰æŒ‡æ ‡
â””â”€â”€ å‘Šè­¦ä¼˜åŒ–

Phase 5: é“¾è·¯è¿½è¸ª (3-4å‘¨)
â”œâ”€â”€ Jaegeréƒ¨ç½²
â”œâ”€â”€ OpenTelemetryé›†æˆ
â”œâ”€â”€ è·¨æœåŠ¡è¿½è¸ª
â””â”€â”€ é‡‡æ ·ç­–ç•¥

Phase 6: æ—¥å¿—ç³»ç»Ÿ (3-4å‘¨)
â”œâ”€â”€ ELK/Lokiéƒ¨ç½²
â”œâ”€â”€ æ—¥å¿—é‡‡é›†ç®¡é“
â”œâ”€â”€ æ—¥å¿—æŸ¥è¯¢ä¼˜åŒ–
â””â”€â”€ æˆæœ¬ä¼˜åŒ–
```

### ğŸ’ é«˜çº§è·¯å¾„ (æŒç»­)

```text
Phase 7: SREå®è·µ (æŒç»­)
â”œâ”€â”€ SLI/SLOå®šä¹‰
â”œâ”€â”€ é”™è¯¯é¢„ç®—
â”œâ”€â”€ å®¹é‡è§„åˆ’
â””â”€â”€ å‘Šè­¦é™å™ª

Phase 8: æˆæœ¬ä¸æ€§èƒ½ (æŒç»­)
â”œâ”€â”€ é‡‡æ ·ä¼˜åŒ–
â”œâ”€â”€ å­˜å‚¨ä¼˜åŒ–
â”œâ”€â”€ æŸ¥è¯¢ä¼˜åŒ–
â””â”€â”€ æˆæœ¬æ§åˆ¶
```

---

## 4. æ ¸å¿ƒæ¦‚å¿µæ¸…å•

### ğŸ“Š Metrics (8ä¸ª)

| # | æ¦‚å¿µ | é‡è¦åº¦ | éš¾åº¦ | Goå®ç° |
|---|------|--------|------|--------|
| 1 | REDæŒ‡æ ‡ | â­â­â­â­â­ | â­â­ | Prometheus |
| 2 | å››ä¸ªé»„é‡‘æŒ‡æ ‡ | â­â­â­â­â­ | â­â­â­ | Prometheus |
| 3 | Counter | â­â­â­â­â­ | â­â­ | prometheus.Counter |
| 4 | Histogram | â­â­â­â­â­ | â­â­â­ | prometheus.Histogram |
| 5 | Gauge | â­â­â­â­ | â­â­ | prometheus.Gauge |
| 6 | Summary | â­â­â­ | â­â­â­â­ | prometheus.Summary |
| 7 | PromQL | â­â­â­â­â­ | â­â­â­â­ | æŸ¥è¯¢è¯­è¨€ |
| 8 | æœåŠ¡å‘ç° | â­â­â­â­ | â­â­â­â­ | K8s/Consul |

### ğŸ“ Logging (6ä¸ª)

| # | æ¦‚å¿µ | é‡è¦åº¦ | éš¾åº¦ | Goåº“ |
|---|------|--------|------|------|
| 1 | ç»“æ„åŒ–æ—¥å¿— | â­â­â­â­â­ | â­â­â­ | zap/slog |
| 2 | æ—¥å¿—çº§åˆ« | â­â­â­â­â­ | â­â­ | æ ‡å‡†å®è·µ |
| 3 | TraceIDå…³è” | â­â­â­â­â­ | â­â­â­â­ | Contextä¼ æ’­ |
| 4 | æ—¥å¿—é‡‡æ · | â­â­â­â­ | â­â­â­â­ | æ€§èƒ½ä¼˜åŒ– |
| 5 | ELK Stack | â­â­â­â­ | â­â­â­â­ | æ—¥å¿—å¹³å° |
| 6 | Loki | â­â­â­â­ | â­â­â­ | Grafanaç”Ÿæ€ |

### ğŸ” Tracing (7ä¸ª)

| # | æ¦‚å¿µ | é‡è¦åº¦ | éš¾åº¦ | Goå®ç° |
|---|------|--------|------|--------|
| 1 | OpenTelemetry | â­â­â­â­â­ | â­â­â­â­ | otel-go |
| 2 | Jaeger | â­â­â­â­â­ | â­â­â­ | jaeger-client-go |
| 3 | Span | â­â­â­â­â­ | â­â­â­ | è¿½è¸ªå•å…ƒ |
| 4 | Contextä¼ æ’­ | â­â­â­â­â­ | â­â­â­â­ | B3/W3C |
| 5 | é‡‡æ ·ç­–ç•¥ | â­â­â­â­â­ | â­â­â­â­â­ | æ€§èƒ½vsç²¾åº¦ |
| 6 | æœåŠ¡æ‹“æ‰‘ | â­â­â­â­ | â­â­â­ | ä¾èµ–åˆ†æ |
| 7 | æ€§èƒ½ç“¶é¢ˆ | â­â­â­â­â­ | â­â­â­â­ | æ…¢æŸ¥è¯¢åˆ†æ |

### ğŸš¨ Alerting (5ä¸ª)

| # | æ¦‚å¿µ | é‡è¦åº¦ | éš¾åº¦ | å·¥å…· |
|---|------|--------|------|------|
| 1 | SLI/SLO/SLA | â­â­â­â­â­ | â­â­â­â­â­ | SREæ ¸å¿ƒ |
| 2 | é”™è¯¯é¢„ç®— | â­â­â­â­â­ | â­â­â­â­ | SRE |
| 3 | å‘Šè­¦è·¯ç”± | â­â­â­â­â­ | â­â­â­ | AlertManager |
| 4 | å‘Šè­¦é™å™ª | â­â­â­â­â­ | â­â­â­â­â­ | èšåˆ/æŠ‘åˆ¶ |
| 5 | On-Call | â­â­â­â­ | â­â­â­â­ | PagerDuty |

---

## 5. Goå®è·µå»ºè®®

### ğŸ¯ Metricså®è·µ (Prometheus)

```go
import (
    "github.com/prometheus/client_golang/prometheus"
    "github.com/prometheus/client_golang/prometheus/promhttp"
)

// å®šä¹‰æŒ‡æ ‡
var (
    httpRequestsTotal = prometheus.NewCounterVec(
        prometheus.CounterOpts{
            Name: "http_requests_total",
            Help: "Total number of HTTP requests",
        },
        []string{"method", "endpoint", "status"},
    )
    
    httpRequestDuration = prometheus.NewHistogramVec(
        prometheus.HistogramOpts{
            Name:    "http_request_duration_seconds",
            Help:    "HTTP request duration in seconds",
            Buckets: prometheus.DefBuckets,
        },
        []string{"method", "endpoint"},
    )
)

func init() {
    prometheus.MustRegister(httpRequestsTotal)
    prometheus.MustRegister(httpRequestDuration)
}

// ä½¿ç”¨
func handler(w http.ResponseWriter, r *http.Request) {
    start := time.Now()
    defer func() {
        duration := time.Since(start).Seconds()
        httpRequestDuration.WithLabelValues(r.Method, r.URL.Path).Observe(duration)
        httpRequestsTotal.WithLabelValues(r.Method, r.URL.Path, "200").Inc()
    }()
    // ä¸šåŠ¡é€»è¾‘
}

// æš´éœ²æŒ‡æ ‡
http.Handle("/metrics", promhttp.Handler())
```

### ğŸ¯ Loggingå®è·µ (zap)

```go
import "go.uber.org/zap"

logger, _ := zap.NewProduction()
defer logger.Sync()

// å¸¦TraceIDçš„æ—¥å¿—
logger.Info("processing request",
    zap.String("trace_id", traceID),
    zap.String("user_id", userID),
    zap.Duration("latency", latency),
)

// é”™è¯¯æ—¥å¿—
if err != nil {
    logger.Error("failed to process",
        zap.String("trace_id", traceID),
        zap.Error(err),
        zap.Stack("stacktrace"),
    )
}
```

### ğŸ¯ Tracingå®è·µ (OpenTelemetry)

```go
import (
    "go.opentelemetry.io/otel"
    "go.opentelemetry.io/otel/trace"
)

tracer := otel.Tracer("my-service")

func processRequest(ctx context.Context) error {
    ctx, span := tracer.Start(ctx, "processRequest")
    defer span.End()
    
    // æ·»åŠ å±æ€§
    span.SetAttributes(
        attribute.String("user.id", userID),
        attribute.Int("item.count", count),
    )
    
    // åµŒå¥—Span
    ctx, childSpan := tracer.Start(ctx, "database-query")
    result, err := db.Query(ctx, sql)
    childSpan.End()
    
    if err != nil {
        span.RecordError(err)
        span.SetStatus(codes.Error, err.Error())
        return err
    }
    
    return nil
}
```

### ğŸ’¡ æœ€ä½³å®è·µ

1. **ç»Ÿä¸€TraceID**: è´¯ç©¿Metrics/Logs/Traces
2. **é‡‡æ ·ç­–ç•¥**: ç”Ÿäº§ç¯å¢ƒ1-10%é‡‡æ ·
3. **å‘Šè­¦åˆ†çº§**: æŒ‰å½±å“èŒƒå›´å’Œç´§æ€¥ç¨‹åº¦
4. **æˆæœ¬æ§åˆ¶**: æ—¥å¿—é‡‡æ ·+æ•°æ®ä¿ç•™ç­–ç•¥
5. **éšç§ä¿æŠ¤**: æ•æ„Ÿä¿¡æ¯è„±æ•

---

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [å¯¹æ¯”çŸ©é˜µ](./00-å¯¹æ¯”çŸ©é˜µ.md)
- [æ¦‚å¿µå®šä¹‰ä½“ç³»](./00-æ¦‚å¿µå®šä¹‰ä½“ç³».md)
- [README.md](./README.md)

---

**æœ€åæ›´æ–°**: 2025-10-28
