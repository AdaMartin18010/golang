# è¯­ä¹‰åŒ–ç‰ˆæœ¬

> ğŸ“š **ç®€ä»‹**
>
> æœ¬æ–‡è¯¦ç»†ä»‹ç»è¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒï¼ˆSemantic Versioningï¼‰åœ¨Goæ¨¡å—ä¸­çš„åº”ç”¨ã€‚å†…å®¹æ¶µç›–ç‰ˆæœ¬å·æ ¼å¼ã€ç‰ˆæœ¬é€‰æ‹©è§„åˆ™ã€ä¸»ç‰ˆæœ¬ç®¡ç†ç­‰æ ¸å¿ƒæ¦‚å¿µã€‚
>
> é€šè¿‡æœ¬æ–‡ï¼Œæ‚¨å°†æŒæ¡å¦‚ä½•æ­£ç¡®ä½¿ç”¨å’Œç®¡ç†Goæ¨¡å—ç‰ˆæœ¬ï¼Œé¿å…ä¾èµ–å†²çªã€‚

---

## ğŸ“‹ ç›®å½•

- [è¯­ä¹‰åŒ–ç‰ˆæœ¬](#è¯­ä¹‰åŒ–ç‰ˆæœ¬)
  - [ğŸ“‹ ç›®å½•](#-ç›®å½•)
  - [1. ğŸ“š è¯­ä¹‰åŒ–ç‰ˆæœ¬æ¦‚è¿°](#1--è¯­ä¹‰åŒ–ç‰ˆæœ¬æ¦‚è¿°)
    - [1.1 ä»€ä¹ˆæ˜¯è¯­ä¹‰åŒ–ç‰ˆæœ¬](#11-ä»€ä¹ˆæ˜¯è¯­ä¹‰åŒ–ç‰ˆæœ¬)
    - [1.2 åœ¨Goä¸­çš„åº”ç”¨](#12-åœ¨goä¸­çš„åº”ç”¨)
  - [2. ğŸ“ ç‰ˆæœ¬å·æ ¼å¼](#2--ç‰ˆæœ¬å·æ ¼å¼)
    - [2.1 æ ‡å‡†æ ¼å¼](#21-æ ‡å‡†æ ¼å¼)
    - [2.2 ç‰ˆæœ¬å·ç»„æˆ](#22-ç‰ˆæœ¬å·ç»„æˆ)
    - [2.3 Goæ¨¡å—ç‰¹æ®Šè§„åˆ™](#23-goæ¨¡å—ç‰¹æ®Šè§„åˆ™)
  - [3. ğŸ’» ç‰ˆæœ¬å‡çº§è§„åˆ™](#3--ç‰ˆæœ¬å‡çº§è§„åˆ™)
    - [3.1 ä½•æ—¶å‡çº§ä¸»ç‰ˆæœ¬](#31-ä½•æ—¶å‡çº§ä¸»ç‰ˆæœ¬)
    - [3.2 ä½•æ—¶å‡çº§æ¬¡ç‰ˆæœ¬](#32-ä½•æ—¶å‡çº§æ¬¡ç‰ˆæœ¬)
    - [3.3 ä½•æ—¶å‡çº§ä¿®è®¢ç‰ˆæœ¬](#33-ä½•æ—¶å‡çº§ä¿®è®¢ç‰ˆæœ¬)
  - [4. ğŸ”§ ä¸»ç‰ˆæœ¬ç®¡ç†](#4--ä¸»ç‰ˆæœ¬ç®¡ç†)
    - [4.1 v0ç‰ˆæœ¬](#41-v0ç‰ˆæœ¬)
    - [4.2 v1ç‰ˆæœ¬](#42-v1ç‰ˆæœ¬)
    - [4.3 v2+ç‰ˆæœ¬](#43-v2ç‰ˆæœ¬)
  - [5. ğŸ“Š ç‰ˆæœ¬é€‰æ‹©](#5--ç‰ˆæœ¬é€‰æ‹©)
    - [5.1 æœ€å°ç‰ˆæœ¬é€‰æ‹©ï¼ˆMVSï¼‰](#51-æœ€å°ç‰ˆæœ¬é€‰æ‹©mvs)
    - [5.2 ç‰ˆæœ¬çº¦æŸ](#52-ç‰ˆæœ¬çº¦æŸ)
  - [6. ğŸ¯ æœ€ä½³å®è·µ](#6--æœ€ä½³å®è·µ)
    - [âœ… æ¨¡å—å‘å¸ƒè€…](#-æ¨¡å—å‘å¸ƒè€…)
    - [âœ… æ¨¡å—ä½¿ç”¨è€…](#-æ¨¡å—ä½¿ç”¨è€…)
  - [7. âš ï¸ å¸¸è§é—®é¢˜](#7-ï¸-å¸¸è§é—®é¢˜)
    - [Q1: ä½•æ—¶å‘å¸ƒv1.0.0ï¼Ÿ](#q1-ä½•æ—¶å‘å¸ƒv100)
    - [Q2: v2å¯¼å…¥è·¯å¾„ä¸ºä»€ä¹ˆè¦åŠ /v2ï¼Ÿ](#q2-v2å¯¼å…¥è·¯å¾„ä¸ºä»€ä¹ˆè¦åŠ v2)
    - [Q3: å¦‚ä½•åºŸå¼ƒåŠŸèƒ½è€Œä¸ç ´åå…¼å®¹æ€§ï¼Ÿ](#q3-å¦‚ä½•åºŸå¼ƒåŠŸèƒ½è€Œä¸ç ´åå…¼å®¹æ€§)
    - [Q4: +incompatibleæ˜¯ä»€ä¹ˆï¼Ÿ](#q4-incompatibleæ˜¯ä»€ä¹ˆ)
  - [8. ğŸ“š æ‰©å±•é˜…è¯»](#8--æ‰©å±•é˜…è¯»)
    - [å®˜æ–¹æ–‡æ¡£](#å®˜æ–¹æ–‡æ¡£)
    - [ç›¸å…³æ–‡æ¡£](#ç›¸å…³æ–‡æ¡£)

## 1. ğŸ“š è¯­ä¹‰åŒ–ç‰ˆæœ¬æ¦‚è¿°

### 1.1 ä»€ä¹ˆæ˜¯è¯­ä¹‰åŒ–ç‰ˆæœ¬

**è¯­ä¹‰åŒ–ç‰ˆæœ¬**ï¼ˆSemantic Versioning, SemVerï¼‰æ˜¯ä¸€å¥—ç‰ˆæœ¬å‘½åè§„èŒƒï¼Œé€šè¿‡ç‰ˆæœ¬å·ä¼ è¾¾å…¼å®¹æ€§ä¿¡æ¯ã€‚

**æ ¸å¿ƒåŸåˆ™**:

- ğŸ“ˆ ç‰ˆæœ¬å·æœ‰æ˜ç¡®å«ä¹‰
- ğŸ”„ å…¼å®¹æ€§å˜åŒ–å¯é¢„æµ‹
- ğŸ›¡ï¸ ä¿æŠ¤ç”¨æˆ·å…å—ç ´åæ€§å˜æ›´

### 1.2 åœ¨Goä¸­çš„åº”ç”¨

Goæ¨¡å—ä¸¥æ ¼éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼š

- âœ… æ‰€æœ‰ç‰ˆæœ¬å¿…é¡»ç¬¦åˆSemVeræ ¼å¼
- âœ… v2+ç‰ˆæœ¬å¿…é¡»ä¿®æ”¹æ¨¡å—è·¯å¾„
- âœ… ä½¿ç”¨æœ€å°ç‰ˆæœ¬é€‰æ‹©ç®—æ³•

---

## 2. ğŸ“ ç‰ˆæœ¬å·æ ¼å¼

### 2.1 æ ‡å‡†æ ¼å¼

```text
vMAJOR.MINOR.PATCH[-PRERELEASE][+BUILD]
```

**ç¤ºä¾‹**:

```text
v1.2.3           # æ ‡å‡†ç‰ˆæœ¬
v1.2.3-alpha.1   # é¢„å‘å¸ƒç‰ˆæœ¬
v1.2.3+20230101  # å¸¦æ„å»ºå…ƒæ•°æ®
v1.2.3-rc.1+build.123  # å®Œæ•´æ ¼å¼
```

### 2.2 ç‰ˆæœ¬å·ç»„æˆ

| éƒ¨åˆ† | è¯´æ˜ | ç¤ºä¾‹ | ä½•æ—¶å˜æ›´ |
|------|------|------|---------|
| **MAJOR** | ä¸»ç‰ˆæœ¬å· | v**1**.0.0 | ä¸å…¼å®¹çš„APIå˜æ›´ |
| **MINOR** | æ¬¡ç‰ˆæœ¬å· | v1.**2**.0 | å‘åå…¼å®¹çš„åŠŸèƒ½æ–°å¢ |
| **PATCH** | ä¿®è®¢å· | v1.2.**3** | å‘åå…¼å®¹çš„é—®é¢˜ä¿®æ­£ |
| **PRERELEASE** | é¢„å‘å¸ƒæ ‡è¯† | v1.0.0-**alpha.1** | æµ‹è¯•ç‰ˆæœ¬ |
| **BUILD** | æ„å»ºå…ƒæ•°æ® | v1.0.0+**20230101** | æ„å»ºä¿¡æ¯ |

### 2.3 Goæ¨¡å—ç‰¹æ®Šè§„åˆ™

**1. ç‰ˆæœ¬å¿…é¡»ä»¥vå¼€å¤´**:

```go
// âœ… æ­£ç¡®
v1.2.3

// âŒ é”™è¯¯
1.2.3
```

**2. v0å’Œv1ä¸éœ€è¦è·¯å¾„åç¼€**:

```go
// v0å’Œv1
module github.com/user/project

// v2+éœ€è¦åç¼€
module github.com/user/project/v2
```

**3. ä¼ªç‰ˆæœ¬ï¼ˆPseudo-versionï¼‰**:

æœªæ‰“æ ‡ç­¾çš„æäº¤ä½¿ç”¨ä¼ªç‰ˆæœ¬ï¼š

```text
v0.0.0-20230101120000-abcdef123456
  â†‘     â†‘              â†‘
  |     |              â””â”€ æäº¤hashå‰12ä½
  |     â””â”€ æ—¶é—´æˆ³ï¼ˆUTCï¼‰
  â””â”€ åŸºç¡€ç‰ˆæœ¬
```

---

## 3. ğŸ’» ç‰ˆæœ¬å‡çº§è§„åˆ™

### 3.1 ä½•æ—¶å‡çº§ä¸»ç‰ˆæœ¬

**MAJORç‰ˆæœ¬**ï¼šä¸å…¼å®¹çš„APIå˜æ›´

**ç¤ºä¾‹åœºæ™¯**:

```go
// v1.x.x
func GetUser(id int) User

// v2.0.0 - ä¿®æ”¹äº†è¿”å›ç±»å‹ï¼ˆç ´åæ€§å˜æ›´ï¼‰
func GetUser(id int) (User, error)
```

**å…¶ä»–åœºæ™¯**:

- åˆ é™¤å…¬å¼€çš„å‡½æ•°ã€ç±»å‹æˆ–æ–¹æ³•
- ä¿®æ”¹å‡½æ•°ç­¾å
- æ”¹å˜å…¬å¼€APIçš„è¡Œä¸º
- ç§»é™¤å·²åºŸå¼ƒçš„åŠŸèƒ½

### 3.2 ä½•æ—¶å‡çº§æ¬¡ç‰ˆæœ¬

**MINORç‰ˆæœ¬**ï¼šå‘åå…¼å®¹çš„åŠŸèƒ½æ–°å¢

**ç¤ºä¾‹åœºæ™¯**:

```go
// v1.1.0 - æ–°å¢å‡½æ•°
func GetUserByEmail(email string) User

// v1.2.0 - æ–°å¢ç±»å‹
type Admin struct {
    User
    Permissions []string
}
```

**å…¶ä»–åœºæ™¯**:

- æ–°å¢å…¬å¼€å‡½æ•°æˆ–æ–¹æ³•
- æ–°å¢å¯é€‰å‚æ•°ï¼ˆé€šè¿‡é€‰é¡¹æ¨¡å¼ï¼‰
- æ”¹è¿›æ€§èƒ½ï¼ˆä¸æ”¹å˜APIï¼‰
- æ ‡è®°åŠŸèƒ½ä¸ºåºŸå¼ƒï¼ˆdeprecateï¼‰

### 3.3 ä½•æ—¶å‡çº§ä¿®è®¢ç‰ˆæœ¬

**PATCHç‰ˆæœ¬**ï¼šå‘åå…¼å®¹çš„é—®é¢˜ä¿®æ­£

**ç¤ºä¾‹åœºæ™¯**:

```go
// v1.2.2 - ä¿®å¤bug
func ValidateEmail(email string) bool {
    // ä¿®æ­£æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„é”™è¯¯
    return emailRegex.MatchString(email)
}
```

**å…¶ä»–åœºæ™¯**:

- ä¿®å¤bug
- å®‰å…¨è¡¥ä¸
- æ–‡æ¡£æ›´æ–°
- å†…éƒ¨é‡æ„ï¼ˆä¸å½±å“APIï¼‰

---

## 4. ğŸ”§ ä¸»ç‰ˆæœ¬ç®¡ç†

### 4.1 v0ç‰ˆæœ¬

**ç‰¹ç‚¹**:

- ğŸš§ å¼€å‘é˜¶æ®µ
- âš ï¸ APIå¯èƒ½éšæ—¶å˜æ›´
- ğŸ”“ æ— ç¨³å®šæ€§ä¿è¯

**ä½¿ç”¨**:

```go
module github.com/user/project

go 1.21

// v0.x.xçš„ä¾èµ–
require github.com/someone/lib v0.5.2
```

### 4.2 v1ç‰ˆæœ¬

**ç‰¹ç‚¹**:

- âœ… é¦–ä¸ªç¨³å®šç‰ˆæœ¬
- ğŸ”’ æ‰¿è¯ºAPIç¨³å®šæ€§
- ğŸ“– æ¨¡å—è·¯å¾„ä¸å«ç‰ˆæœ¬åç¼€

**ä½¿ç”¨**:

```go
module github.com/user/project

// v1.x.xçš„ä¾èµ–
require github.com/someone/lib v1.3.0
```

### 4.3 v2+ç‰ˆæœ¬

**ç‰¹ç‚¹**:

- ğŸ”„ åŒ…å«ç ´åæ€§å˜æ›´
- ğŸ“ æ¨¡å—è·¯å¾„å¿…é¡»åŒ…å«ç‰ˆæœ¬åç¼€
- ğŸ”€ å¯ä¸v1å¹¶å­˜

**ä½¿ç”¨**:

```go
// æ¨¡å—å£°æ˜
module github.com/user/project/v2

go 1.21

// å¯¼å…¥
import "github.com/someone/lib/v3"
```

**å¤šç‰ˆæœ¬å…±å­˜**:

```go
require (
    github.com/lib/pkg v1.5.0      // v1ç‰ˆæœ¬
    github.com/lib/pkg/v2 v2.3.0   // v2ç‰ˆæœ¬
    github.com/lib/pkg/v3 v3.1.0   // v3ç‰ˆæœ¬
)
```

---

## 5. ğŸ“Š ç‰ˆæœ¬é€‰æ‹©

### 5.1 æœ€å°ç‰ˆæœ¬é€‰æ‹©ï¼ˆMVSï¼‰

Goä½¿ç”¨**æœ€å°ç‰ˆæœ¬é€‰æ‹©ç®—æ³•**ï¼š

**åŸåˆ™**: é€‰æ‹©æ»¡è¶³æ‰€æœ‰éœ€æ±‚çš„**æœ€æ—§ç‰ˆæœ¬**

**ç¤ºä¾‹**:

```text
é¡¹ç›®Aä¾èµ–: lib >= v1.2.0
é¡¹ç›®Bä¾èµ–: lib >= v1.3.0
é¡¹ç›®Cä¾èµ–: lib >= v1.1.0

â†’ é€‰æ‹© v1.3.0ï¼ˆæ»¡è¶³æ‰€æœ‰éœ€æ±‚çš„æœ€å°ç‰ˆæœ¬ï¼‰
```

**ä¼˜åŠ¿**:

- âœ… æ„å»ºå¯é‡ç°
- âœ… å‡å°‘æ„å¤–ç ´å
- âœ… é¼“åŠ±æ¸è¿›å‡çº§

### 5.2 ç‰ˆæœ¬çº¦æŸ

**åœ¨go.modä¸­çš„è¡¨ç¤º**:

```go
require (
    github.com/pkg/errors v0.9.1  // ç²¾ç¡®ç‰ˆæœ¬
    golang.org/x/sync v0.3.0      // æœ€å°ç‰ˆæœ¬
)
```

**ä½¿ç”¨go getæŒ‡å®šç‰ˆæœ¬**:

```bash
# æœ€æ–°ç‰ˆæœ¬
go get github.com/gin-gonic/gin@latest

# ç‰¹å®šç‰ˆæœ¬
go get github.com/gin-gonic/gin@v1.9.1

# ç‰¹å®šæäº¤
go get github.com/gin-gonic/gin@commit_hash

# ç‰¹å®šåˆ†æ”¯
go get github.com/gin-gonic/gin@branch_name
```

---

## 6. ğŸ¯ æœ€ä½³å®è·µ

### âœ… æ¨¡å—å‘å¸ƒè€…

1. **ä¸¥æ ¼éµå¾ªSemVer**
   - ç ´åæ€§å˜æ›´ â†’ å‡çº§ä¸»ç‰ˆæœ¬
   - æ–°åŠŸèƒ½ â†’ å‡çº§æ¬¡ç‰ˆæœ¬
   - Bugä¿®å¤ â†’ å‡çº§ä¿®è®¢ç‰ˆæœ¬

2. **v0è°¨æ…å‘å¸ƒ**

   ```go
   // å°½å¿«è¾¾åˆ°v1.0.0
   v0.1.0 â†’ v0.2.0 â†’ v1.0.0
   ```

3. **v2+ä½¿ç”¨è·¯å¾„åç¼€**

   ```go
   // go.mod
   module github.com/user/project/v2
   ```

4. **ä½¿ç”¨é¢„å‘å¸ƒç‰ˆæœ¬æµ‹è¯•**

   ```bash
   git tag v2.0.0-beta.1
   ```

5. **ç¼–å†™CHANGELOG**

   ```markdown
   ## [2.0.0] - 2023-10-20
   ### ç ´åæ€§å˜æ›´
   - ä¿®æ”¹äº†GetUserå‡½æ•°ç­¾å

   ### æ–°å¢
   - æ–°å¢GetUserByEmailå‡½æ•°
   ```

### âœ… æ¨¡å—ä½¿ç”¨è€…

1. **å®šæœŸæ›´æ–°ä¾èµ–**

   ```bash
   # æ£€æŸ¥æ›´æ–°
   go list -u -m all

   # æ›´æ–°åˆ°æœ€æ–°æ¬¡ç‰ˆæœ¬
   go get -u=patch ./...
   ```

2. **è°¨æ…å‡çº§ä¸»ç‰ˆæœ¬**

   ```bash
   # å…ˆæµ‹è¯•
   go get github.com/lib/pkg/v2@latest
   go test ./...
   ```

3. **é”å®šå…³é”®ä¾èµ–**

   ```go
   // å¯¹äºå…³é”®ä¾èµ–ï¼Œä½¿ç”¨ç²¾ç¡®ç‰ˆæœ¬
   require github.com/critical/lib v1.5.3
   ```

4. **ä½¿ç”¨go mod tidyæ¸…ç†**

   ```bash
   go mod tidy
   ```

---

## 7. âš ï¸ å¸¸è§é—®é¢˜

### Q1: ä½•æ—¶å‘å¸ƒv1.0.0ï¼Ÿ

**A**: å½“APIç¨³å®šï¼Œå‡†å¤‡æ‰¿è¯ºå‘åå…¼å®¹æ—¶ï¼š

**æ£€æŸ¥æ¸…å•**:

- âœ… APIå·²ç»è¿‡å……åˆ†æµ‹è¯•
- âœ… æ–‡æ¡£å®Œæ•´
- âœ… å‡†å¤‡ç»´æŠ¤å‘åå…¼å®¹æ€§
- âœ… æœ‰æ˜ç¡®çš„ç‰ˆæœ¬ç­–ç•¥

### Q2: v2å¯¼å…¥è·¯å¾„ä¸ºä»€ä¹ˆè¦åŠ /v2ï¼Ÿ

**A**: å…è®¸v1å’Œv2åœ¨åŒä¸€é¡¹ç›®ä¸­å…±å­˜ï¼š

```go
import (
    oldpkg "github.com/user/pkg"     // v1
    newpkg "github.com/user/pkg/v2"  // v2
)
```

### Q3: å¦‚ä½•åºŸå¼ƒåŠŸèƒ½è€Œä¸ç ´åå…¼å®¹æ€§ï¼Ÿ

**A**: ä½¿ç”¨deprecationæ³¨é‡Šï¼š

```go
// Deprecated: Use NewFunction instead.
func OldFunction() {
    // å®ç°
}
```

åœ¨æ–‡æ¡£ä¸­è¯´æ˜ï¼Œä¸‹ä¸€ä¸ªä¸»ç‰ˆæœ¬å°†ç§»é™¤ã€‚

### Q4: +incompatibleæ˜¯ä»€ä¹ˆï¼Ÿ

**A**: è¡¨ç¤ºv2+ç‰ˆæœ¬ä½†æœªä½¿ç”¨Goæ¨¡å—ï¼š

```go
require github.com/old/pkg v2.0.0+incompatible
```

è¿™äº›åŒ…è¢«å½“ä½œv1å¤„ç†ã€‚

---

## 8. ğŸ“š æ‰©å±•é˜…è¯»

### å®˜æ–¹æ–‡æ¡£

- [Semantic Versioning 2.0.0](https://semver.org/)
- [Go Modules: v2 and Beyond](https://go.dev/blog/v2-go-modules)
- [Module version numbering](https://go.dev/doc/modules/version-numbers)

### ç›¸å…³æ–‡æ¡£

- [01-Go-Modulesç®€ä»‹.md](./01-Go-Modulesç®€ä»‹.md)
- [02-go-modæ–‡ä»¶è¯¦è§£.md](./02-go-modæ–‡ä»¶è¯¦è§£.md)
- [06-ä¾èµ–ç®¡ç†.md](./06-ä¾èµ–ç®¡ç†.md)

---

**æ–‡æ¡£ç»´æŠ¤è€…**: Go Documentation Team
**æœ€åæ›´æ–°**: 2025-10-29
**æ–‡æ¡£çŠ¶æ€**: å®Œæˆ
**é€‚ç”¨ç‰ˆæœ¬**: Go 1.21+
