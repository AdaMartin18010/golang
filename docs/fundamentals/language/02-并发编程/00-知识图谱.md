# 知识图谱

**版本**: v1.0
**更新日期**: 2025-11-11
**适用于**: Go 1.25.3
**文件夹**: fundamentals/language/02-并发编程

---

## 📋 目录

- [知识图谱](#知识图谱)
  - [1. 知识结构树](#1-知识结构树)
  - [2. 知识依赖图](#2-知识依赖图)
  - [3. 学习路径图](#3-学习路径图)
  - [4. 知识关联矩阵](#4-知识关联矩阵)
  - [5. 核心概念清单](#5-核心概念清单)
  - [📊 使用建议](#使用建议)
  - [🔗 相关文档](#相关文档)

---

## 1. 知识结构树

### 1.1 整体结构

```text
Go并发编程 (02-并发编程/)
│
├── 1️⃣ 理论基础
│   ├── 并发模型 (CSP, Actor, 共享内存)
│   └── Go调度器 (GMP模型)
│
├── 2️⃣ 核心机制
│   ├── Goroutine (轻量级线程)
│   ├── Channel (通信管道)
│   └── Select (多路复用)
│
├── 3️⃣ 同步原语
│   ├── sync.Mutex (Mutex)
│   ├── sync.RWMutex (读写锁)
│   ├── sync.WaitGroup (WaitGroup)
│   ├── sync.Once (单次执行)
│   ├── sync.Cond (条件变量)
│   └── atomic (原子操作)
│
├── 4️⃣ 上下文控制
│   ├── Context.Context (Context)
│   ├── context.WithCancel (取消控制)
│   ├── context.WithTimeout (超时控制)
│   └── context.WithValue (值传递)
│
└── 5️⃣ 并发模式
    ├── Pipeline (管道模式)
    ├── Fan-out/Fan-in (扇出扇入)
    ├── Worker Pool (工作池)
    ├── Pub-Sub (发布订阅)
    └── Rate Limiting (限流)
```

### 1.2 三层架构

```text
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
第一层：理论基础 (Foundation Theory)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
• 并发模型        - CSP理论、并发 vs 并行
• Go调度器        - GMP模型、协作式调度
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
第二层：核心机制 (Core Primitives)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
• Goroutine       - 轻量级并发单元
• Channel         - 通信管道
• Select          - 多路复用
• Context         - 上下文控制
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
第三层：高级应用 (Advanced Patterns)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
• sync包          - 低级同步原语
• 并发模式        - 设计模式与实战
• 性能优化        - 并发调优技巧
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

---

## 2. 知识依赖图

### 2.1 前置依赖关系

```text
┌─────────────────────────────────────────────────────┐
│ 知识点依赖图 (→ 表示"依赖于")                        │
└─────────────────────────────────────────────────────┘

01. 并发模型
    └── (基础理论，入门起点)

02. Goroutine基础
    └── → 并发模型 (理解并发概念)

03. Channel基础
    ├── → 并发模型 (理解CSP)
    └── → Goroutine (goroutine间通信)

04. Go调度器
    ├── → Goroutine (理解调度对象)
    └── → 并发模型 (理解调度原理)

05. Select与Context
    ├── → Channel (多路复用channel)
    ├── → Goroutine (goroutine生命周期管理)
    └── → 并发模型 (理解控制流)

06. sync包
    ├── → Goroutine (goroutine同步)
    ├── → 并发模型 (理解共享内存)
    └── → Channel (对比通信vs共享)

07. 并发模式
    ├── → Channel (模式基础)
    ├── → Select (模式实现)
    ├── → sync包 (同步控制)
    └── → Context (取消控制)
```

### 2.2 核心依赖链

```text
【关键路径1】基础理论链
并发模型 → Goroutine → Channel → 并发模式
  ↓
  CSP理论的完整实践

【关键路径2】调度优化链
并发模型 → Goroutine → Go调度器 → 性能优化
  ↓
  深入理解调度机制

【关键路径3】同步控制链
Goroutine → Channel → Select → Context
  ↓
  并发控制的完整工具链

【关键路径4】共享内存链
Goroutine → sync包 → 并发模式
  ↓
  传统同步原语的使用
```

---

## 3. 学习路径图

### 3.1 推荐学习路径

#### 路径A: 快速入门（1周）⭐⭐⭐⭐⭐

**适合**: 有其他语言并发经验

```text
Week 1: 核心掌握
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Day 1-2:  01. 并发模型           (理解CSP)
Day 3-4:  02. Goroutine基础      (轻量级线程)
Day 5-6:  03. Channel基础        (通信管道)
Day 7:    05. Select基础          (多路复用)

重点掌握: Goroutine + Channel + Select
```

#### 路径B: 系统学习（3周）⭐⭐⭐⭐⭐

**适合**: 系统掌握Go并发

```text
Week 1: 理论与核心
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Day 1-2:  01. 并发模型
Day 3-4:  02. Goroutine基础
Day 5-7:  03. Channel基础 + 练习

Week 2: 调度与控制
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Day 1-3:  04. Go调度器
Day 4-6:  05. Select与Context
Day 7:    综合练习

Week 3: 同步与模式
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Day 1-3:  06. sync包
Day 4-7:  07. 并发模式实战

重点掌握: 完整并发体系 + 调度原理 + 实战模式
```

#### 路径C: 深度理解（6周）⭐⭐⭐⭐⭐

**适合**: 追求深度与性能优化

```text
Phase 1: 基础深入 (2周)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
• 并发模型 (CSP理论深入)
• Goroutine (栈管理、逃逸分析)
• Channel (底层实现、性能特性)

Phase 2: 调度深入 (2周)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
• Go调度器 (GMP模型源码分析)
• 调度策略 (抢占、窃取)
• 性能优化 (GOMAXPROCS调优)

Phase 3: 实战深入 (2周)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
• sync包 (底层实现)
• Context (传播机制)
• 并发模式 (设计与权衡)
• 性能调优 (profiling、竞态检测)

重点掌握: 底层机制 + 源码理解 + 性能优化
```

### 3.2 学习顺序建议

#### 必学核心（按顺序）

```text
1. 并发模型          (理论基础)
2. Goroutine基础     (并发单元)
3. Channel基础       (通信机制)
4. Select            (多路复用)
5. Context           (上下文控制)

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
完成这5个主题后，可以编写基本并发程序
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

#### 进阶学习（灵活顺序）

```text
• Go调度器           (深入理解调度)
• sync包             (低级同步原语)
• 并发模式           (设计模式)

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
进阶学习可根据项目需求选择顺序
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

---

## 4. 知识关联矩阵

### 4.1 知识点相互关联度

**说明**:

- ✅✅✅ = 强关联（必须一起理解）
- ✅✅ = 中关联（建议一起学）
- ✅ = 弱关联（有联系但独立）
- - = 无直接关联

| 主题 | 并发模型 | Goroutine | Channel | 调度器 | Select | Context | sync包 | 并发模式 |
|------|---------|-----------|---------|--------|--------|---------|--------|----------|
| **01-并发模型** | - | ✅✅✅ | ✅✅✅ | ✅✅✅ | ✅✅ | ✅✅ | ✅✅ | ✅✅ |
| **02-Goroutine** | ✅✅✅ | - | ✅✅✅ | ✅✅✅ | ✅✅ | ✅✅✅ | ✅✅✅ | ✅✅✅ |
| **03-Channel** | ✅✅✅ | ✅✅✅ | - | ✅✅ | ✅✅✅ | ✅✅ | ✅✅ | ✅✅✅ |
| **04-调度器** | ✅✅✅ | ✅✅✅ | ✅✅ | - | ✅ | ✅✅ | ✅✅ | ✅✅ |
| **05-Select** | ✅✅ | ✅✅ | ✅✅✅ | ✅ | - | ✅✅✅ | ✅ | ✅✅✅ |
| **06-Context** | ✅✅ | ✅✅✅ | ✅✅ | ✅✅ | ✅✅✅ | - | ✅ | ✅✅✅ |
| **07-sync包** | ✅✅ | ✅✅✅ | ✅✅ | ✅✅ | ✅ | ✅ | - | ✅✅✅ |
| **08-并发模式** | ✅✅ | ✅✅✅ | ✅✅✅ | ✅✅ | ✅✅✅ | ✅✅✅ | ✅✅✅ | - |

### 4.2 关键关联说明

**核心三角**:

```text
Goroutine ←→ Channel ←→ Select
    ↓          ↓          ↓
(并发单元)  (通信)    (多路复用)
    ↓          ↓          ↓
   构成Go并发编程的核心
```

**CSP铁三角**:

```text
并发模型 ←→ Goroutine ←→ Channel
    ↓          ↓          ↓
  (理论)     (实体)      (通信)
    ↓          ↓          ↓
    实现CSP并发模型
```

**控制三角**:

```text
Select ←→ Context ←→ 并发模式
   ↓         ↓          ↓
(选择)   (生命周期)  (设计)
   ↓         ↓          ↓
  构成并发控制体系
```

---

## 5. 核心概念清单

### 5.1 按主题分类

#### 理论基础（4个概念）

| # | 概念 | 英文 | 重要度 | 难度 | 出现频率 |
|---|------|------|--------|------|----------|
| 1 | 并发模型 | Concurrency Model | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | 极高 |
| 2 | CSP | Communicating Sequential Processes | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | 极高 |
| 3 | 并发 vs 并行 | Concurrency vs Parallelism | ⭐⭐⭐⭐⭐ | ⭐⭐ | 极高 |
| 4 | GMP模型 | Goroutine-M-P Model | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | 高 |

#### 核心机制（5个概念）

| # | 概念 | 英文 | 重要度 | 难度 | 出现频率 |
|---|------|------|--------|------|----------|
| 5 | Goroutine | Goroutine | ⭐⭐⭐⭐⭐ | ⭐⭐ | 极高 |
| 6 | Channel | Channel | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | 极高 |
| 7 | 缓冲Channel | Buffered Channel | ⭐⭐⭐⭐ | ⭐⭐⭐ | 高 |
| 8 | Select | Select | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | 极高 |
| 9 | Context | Context | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | 极高 |

#### 同步原语（7个概念）

| # | 概念 | 英文 | 重要度 | 难度 | 出现频率 |
|---|------|------|--------|------|----------|
| 10 | Mutex | Mutex | ⭐⭐⭐⭐⭐ | ⭐⭐ | 极高 |
| 11 | RWMutex | Read-Write Mutex | ⭐⭐⭐⭐ | ⭐⭐⭐ | 高 |
| 12 | WaitGroup | WaitGroup | ⭐⭐⭐⭐⭐ | ⭐⭐ | 极高 |
| 13 | Once | Once | ⭐⭐⭐ | ⭐ | 中 |
| 14 | Cond | Condition Variable | ⭐⭐⭐ | ⭐⭐⭐⭐ | 低 |
| 15 | atomic | Atomic Operations | ⭐⭐⭐⭐ | ⭐⭐⭐ | 中 |
| 16 | Pool | Sync Pool | ⭐⭐⭐ | ⭐⭐⭐ | 中 |

#### 并发模式（6个概念）

| # | 概念 | 英文 | 重要度 | 难度 | 出现频率 |
|---|------|------|--------|------|----------|
| 17 | Pipeline | Pipeline Pattern | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | 极高 |
| 18 | Fan-out/Fan-in | Fan-out/Fan-in | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ | 高 |
| 19 | Worker Pool | Worker Pool | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | 极高 |
| 20 | Pub-Sub | Publish-Subscribe | ⭐⭐⭐⭐ | ⭐⭐⭐ | 高 |
| 21 | Rate Limiting | Rate Limiting | ⭐⭐⭐⭐ | ⭐⭐⭐ | 高 |
| 22 | Semaphore | Semaphore | ⭐⭐⭐ | ⭐⭐ | 中 |

### 5.2 核心概念统计

```text
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
总概念数: 22个核心概念
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

按重要度分布:
  ⭐⭐⭐⭐⭐ (极重要): 14个 (64%)
  ⭐⭐⭐⭐   (很重要): 6个  (27%)
  ⭐⭐⭐     (重要):   2个  (9%)

按难度分布:
  ⭐       (简单):   1个  (5%)
  ⭐⭐     (容易):   3个  (14%)
  ⭐⭐⭐   (中等):   11个 (50%)
  ⭐⭐⭐⭐ (困难):   5个  (23%)
  ⭐⭐⭐⭐⭐(极难):  2个  (9%)

按频率分布:
  极高频率: 13个 (59%)
  高频率:   6个  (27%)
  中频率:   3个  (14%)
  低频率:   0个  (0%)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

---

## 📊 使用建议

### 学习路径选择

**场景1: 快速上手**
→ 使用"路径A: 快速入门"
→ 重点: 01→02→03→05

**场景2: 系统学习**
→ 使用"路径B: 系统学习"
→ 按序学习所有8个主题

**场景3: 深度理解**
→ 使用"路径C: 深度理解"
→ 配合源码阅读和性能分析

### 知识图谱使用

**查看依赖**: 学习前先看"知识依赖图"
**规划路径**: 根据"学习路径图"制定计划
**理解关联**: 参考"知识关联矩阵"深化理解
**掌握概念**: 使用"核心概念清单"查漏补缺

---

## 🔗 相关文档

### 其他相关
