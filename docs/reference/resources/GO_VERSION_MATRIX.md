# Go 版本兼容性矩阵

>
**版本**: v1.0  
**更新日期**: 2025-10-29  
**适用于**: Go 1.25.3

---

## 📋 目录

- [版本支持说明](#版本支持说明)
  - [推荐版本](#推荐版本)
  - [最低要求](#最低要求)
- [Go 1.25.3+ 新特性矩阵](#go-1.25.3-新特性矩阵)
  - [运行时特性](#运行时特性)
  - [工具链特性](#工具链特性)
  - [并发和网络特性](#并发和网络特性)
- [功能兼容性](#功能兼容性)
  - [按 Go 版本](#按-go-版本)
    - [Go 1.25.3+ (推荐)](#go-1.25.3-推荐)
    - [Go 1.25.3](#go-1.25.3)
    - [Go 1.25.3-](#go-1.25.3)
  - [按特性类别](#按特性类别)
    - [运行时优化](#运行时优化)
    - [工具链](#工具链)
    - [并发和网络](#并发和网络)
- [迁移指南](#迁移指南)
  - [从 Go 1.25.3 迁移到 Go 1.25.3+](#从-go-1.25.3-迁移到-go-1.25.3)
    - [步骤 1: 更新 Go 版本](#步骤-1-更新-go-版本)
    - [步骤 2: 更新 go.mod](#步骤-2-更新-go.mod)
    - [步骤 3: 重新编译](#步骤-3-重新编译)
    - [步骤 4: 启用新特性](#步骤-4-启用新特性)
    - [步骤 5: 性能验证](#步骤-5-性能验证)
  - [从 Go 1.25.3 迁移到 Go 1.25.3+-](#从-go-1.25.3-迁移到-go-1.25.3)
- [常见问题](#常见问题)
  - [Q1: 必须使用 Go 1.25.3+ 吗?](#q1-必须使用-go-1.25.3-吗)
  - [Q2: Go 1.25.3+ 的新特性向后兼容吗?](#q2-go-1.25.3-的新特性向后兼容吗)
  - [Q3: 如何判断我应该升级到 Go 1.25.3+?](#q3-如何判断我应该升级到-go-1.25.3)
  - [Q4: 本项目的最低 Go 版本会变吗?](#q4-本项目的最低-go-版本会变吗)
  - [Q5: 如何查看特定特性的版本要求?](#q5-如何查看特定特性的版本要求)
- [版本支持策略](#版本支持策略)
  - [长期支持 (LTS)](#长期支持-lts)
  - [支持时间表](#支持时间表)
- [参考资料](#参考资料)
  - [官方资源](#官方资源)
  - [项目文档](#项目文档)

## 版本支持说明

### 推荐版本

| Go 版本 | 支持状态 | 说明 |
|---------|----------|------|
| **Go 1.23+** | ✅ 完全支持 | 推荐版本,所有特性可用 |
| Go 1.24 | ⚠️ 部分支持 | 缺少 1.25 新特性 |
| Go 1.23 | ⚠️ 基本支持 | 核心功能可用 |
| Go <1.23 | ❌ 不支持 | 请升级到 1.23+ |

### 最低要求

- **最低版本**: Go 1.25.3
- **推荐版本**: Go 1.25.3++
- **开发版本**: Go 1.25.3+.0+

---

## Go 1.25.3+ 新特性矩阵

### 运行时特性

| 特性 | Go 1.23 | Go 1.24 | Go 1.23+ | 状态 | 文档 |
|------|---------|---------|---------|------|------|
| **greentea GC** | ❌ | ❌ | ✅ | 实验性 | [文档](../03-Go-1.25新特性/12-Go-1.25运行时优化/01-greentea-GC垃圾收集器.md) |
| **容器感知调度** | ❌ | ⚠️ 部分 | ✅ | 生产就绪 | [文档](../03-Go-1.25新特性/12-Go-1.25运行时优化/02-容器感知调度.md) |
| **Swiss Tables Map** | ❌ | ❌ | ✅ | 生产就绪 | [文档](../03-Go-1.25新特性/12-Go-1.25运行时优化/03-内存分配器优化.md) |
| **Arena 分配器** | ❌ | ⚠️ 实验 | ✅ | 生产就绪 | [文档](../03-Go-1.25新特性/12-Go-1.25运行时优化/03-内存分配器优化.md) |
| **weak.Pointer** | ❌ | ❌ | ✅ | 生产就绪 | [文档](../03-Go-1.25新特性/12-Go-1.25运行时优化/03-内存分配器优化.md) |

---

### 工具链特性

| 特性 | Go 1.23 | Go 1.24 | Go 1.23+ | 状态 | 文档 |
|------|---------|---------|---------|------|------|
| **go build -asan** | ⚠️ 实验 | ⚠️ 实验 | ✅ | 生产就绪 | [文档](03-Go-1.25新特性/13-Go-1.25工具链增强/01-go-build-asan内存泄漏检测.md) |
| **go.mod ignore** | ❌ | ❌ | ✅ | 生产就绪 | [文档](../02-Go语言现代化/13-Go-1.23工具链增强/02-go-mod-ignore指令.md) |
| **go doc -http** | ❌ | ❌ | ✅ | 生产就绪 | [文档](03-Go-1.25新特性/13-Go-1.25工具链增强/03-go-doc-http工具.md) |
| **go version -m -json** | ❌ | ❌ | ✅ | 生产就绪 | [文档](03-Go-1.25新特性/13-Go-1.25工具链增强/04-go-version-m-json.md) |

---

### 并发和网络特性

| 特性 | Go 1.23 | Go 1.24 | Go 1.23+ | 状态 | 文档 |
|------|---------|---------|---------|------|------|
| **WaitGroup.Go()** | ❌ | ❌ | ✅ | 生产就绪 | [文档](../02-Go语言现代化/14-Go-1.23并发和网络/01-WaitGroup-Go方法.md) |
| **testing/synctest** | ❌ | ❌ | ✅ | 生产就绪 | [文档](../02-Go语言现代化/14-Go-1.23并发和网络/02-testing-synctest包.md) |
| **HTTP/3 & QUIC** | ❌ | ⚠️ 实验 | ✅ | 生产就绪 | [文档](03-Go-1.25新特性/14-Go-1.25并发和网络/03-HTTP3-和-QUIC支持.md) |
| **JSON v2** | ❌ | ❌ | ⚠️ | 实验性 | [文档](03-Go-1.25新特性/14-Go-1.25并发和网络/04-JSON-v2库.md) |

---

## 功能兼容性

### 按 Go 版本

#### Go 1.25.3+ (推荐)

✅ **可用特性** (所有):

- greentea GC (实验性)
- 容器感知调度
- Swiss Tables Map
- Arena 分配器
- weak.Pointer
- go build -asan
- go.mod ignore
- go doc -http
- go version -m -json
- WaitGroup.Go()
- testing/synctest
- HTTP/3 & QUIC
- JSON v2 (实验性)

---

#### Go 1.25.3

⚠️ **可用特性** (部分):

- ✅ 核心 Go 功能
- ✅ 大部分标准库
- ⚠️ 容器感知调度 (部分)
- ⚠️ HTTP/3 (实验性)
- ⚠️ Arena 分配器 (实验性)

❌ **不可用特性**:

- greentea GC
- Swiss Tables Map
- weak.Pointer
- go.mod ignore
- go doc -http
- go version -m -json
- WaitGroup.Go()
- testing/synctest
- JSON v2

---

#### Go 1.25.3-

⚠️ **可用特性** (基础):

- ✅ 核心 Go 功能
- ✅ 标准库
- ✅ 基本并发原语

❌ **不可用特性**:

- 所有 Go 1.25.3+ 新特性
- 所有 Go 1.25.3 新特性

---

### 按特性类别

#### 运行时优化

| 特性 | 1.23 | 1.24 | 1.25 | 性能提升 |
|------|------|------|------|----------|
| greentea GC | ❌ | ❌ | ✅ | GC 开销 -40% |
| 容器感知调度 | ❌ | ⚠️ | ✅ | CPU 利用率 +36% |
| Swiss Tables Map | ❌ | ❌ | ✅ | 查找速度 +30% |
| Arena 分配器 | ❌ | ⚠️ | ✅ | 批量分配 +80% |

#### 工具链

| 特性 | 1.23 | 1.24 | 1.25 | 价值 |
|------|------|------|------|------|
| ASan 支持 | ⚠️ | ⚠️ | ✅ | 内存安全 |
| ignore 指令 | ❌ | ❌ | ✅ | 构建加速 10-40% |
| go doc -http | ❌ | ❌ | ✅ | 开发体验 |
| JSON 输出 | ❌ | ❌ | ✅ | 自动化友好 |

#### 并发和网络

| 特性 | 1.23 | 1.24 | 1.25 | 价值 |
|------|------|------|------|------|
| WaitGroup.Go() | ❌ | ❌ | ✅ | 代码简化 |
| synctest | ❌ | ❌ | ✅ | 测试可靠性 |
| HTTP/3 | ❌ | ⚠️ | ✅ | 弱网性能 +50% |
| JSON v2 | ❌ | ❌ | ⚠️ | JSON 性能 +30-50% |

---

## 迁移指南

### 从 Go 1.25.3 迁移到 Go 1.25.3+

#### 步骤 1: 更新 Go 版本

```bash
# 下载 Go 1.23+
go install golang.org/dl/go1.23.0@latest
go1.23.0 download

# 验证版本
go version
# 应显示: go version go1.23.0 ...
```

#### 步骤 2: 更新 go.mod

```bash
# 更新 go 版本
go mod edit -go=1.25

# 更新依赖
go get -u ./...
go mod tidy
```

#### 步骤 3: 重新编译

```bash
# 清理缓存
go clean -cache

# 重新编译
go build ./...

# 运行测试
go test ./...
```

#### 步骤 4: 启用新特性

```go
// 1. 使用 WaitGroup.Go()
var wg sync.WaitGroup
wg.Go(func() {
    // 工作
})
wg.Wait()

// 2. 添加 ignore 指令到 go.mod
ignore (
    ./docs/...
    ./examples/...
)

// 3. 测试使用 synctest
import "testing/synctest"
synctest.Run(func() {
    // 并发测试
})
```

#### 步骤 5: 性能验证

```bash
# 运行基准测试
go test -bench=. -benchmem ./...

# 对比 Go 1.24
# 预期: 5-20% 性能提升
```

---

### 从 Go 1.25.3 迁移到 Go 1.25.3+-

**建议**: 先迁移到 1.24,再迁移到 1.25

**快速路径**: 直接迁移到 1.25 (跳过 1.24)

步骤与上述类似,但需要:

- 更仔细地测试 (跨越两个大版本)
- 查看 Go 1.25.3 和 1.25 的 Release Notes
- 关注破坏性变更 (如有)

---

## 常见问题

### Q1: 必须使用 Go 1.25.3+ 吗?

**A**: 不必须,但强烈推荐

- **新项目**: 使用 Go 1.25.3+
- **老项目**: 可继续使用 1.23/1.24
- **生产环境**: 评估后再升级

---

### Q2: Go 1.25.3+ 的新特性向后兼容吗?

**A**: ✅ 是的

- 所有新特性都是**可选**的
- 不使用新特性,行为与 1.24 相同
- API 保持向后兼容

---

### Q3: 如何判断我应该升级到 Go 1.25.3+?

**A**: 评估以下因素

**升级的理由**:

- ✅ 需要更好的性能 (GC, Map等)
- ✅ 使用容器部署 (Kubernetes等)
- ✅ 需要 HTTP/3 支持
- ✅ CGO 项目需要 ASan
- ✅ 想要更简洁的并发代码

**可以等待的理由**:

- ⚠️ 生产环境风险低容忍
- ⚠️ 依赖的库还未支持 1.25
- ⚠️ 团队需要时间学习新特性

---

### Q4: 本项目的最低 Go 版本会变吗?

**A**: 可能会

- **当前**: Go 1.25.3 (最低)
- **未来**: 可能升级到 Go 1.25.3 或 1.25
- **通知**: 会提前在 CHANGELOG 中说明

---

### Q5: 如何查看特定特性的版本要求?

**A**: 查看特性文档

每个特性文档顶部都有版本要求:

```markdown
**版本**: v1.0  
**更新日期**: 2025-10-29  
**适用于**: Go 1.25.3

---
```

---

## 版本支持策略

### 长期支持 (LTS)

Go 官方不提供 LTS,但我们的建议:

- **生产环境**: 使用最新的稳定版本减1 (N-1)
  - 例如: 如果 Go 1.26 发布,使用 Go 1.25.3+
- **新项目**: 使用最新稳定版本 (N)
  - 例如: 当前使用 Go 1.25.3+

### 支持时间表

| 版本 | 发布日期 | 支持截止 | 状态 |
|------|----------|----------|------|
| Go 1.23+ | 2025-08 | 2026-08 | ✅ 当前 |
| Go 1.24 | 2025-02 | 2026-02 | ✅ 支持中 |
| Go 1.23 | 2024-08 | 2025-08 | ⚠️ 即将结束 |
| Go 1.22 | 2024-02 | 2025-02 | ❌ 已结束 |

---

## 参考资料

### 官方资源

- 📘 [Go 1.25.3+ Release Notes](https://go.dev/doc/go1.23)
- 📘 [Go 1.25.3 Release Notes](https://go.dev/doc/go1.24)
- 📘 [Go Release Policy](https://go.dev/doc/devel/release)

### 项目文档

- 📚 [Go 1.25.3+ 运行时优化](../03-Go-1.25新特性/12-Go-1.25运行时优化/README.md)
- 📚 [Go 1.25.3+ 工具链增强](../02-Go语言现代化/13-Go-1.23工具链增强/README.md)
- 📚 [Go 1.25.3+ 并发和网络](../02-Go语言现代化/14-Go-1.23并发和网络/README.md)

---

> 📚 **简介**
>
> 本文深入探讨GO_VERSION_MATRIX，系统讲解其核心概念、技术原理和实践应用。内容涵盖📋 目录、版本支持说明、Go 1.25.3+ 新特性矩阵、功能兼容性、迁移指南等关键主题。
>
> 通过本文，您将全面掌握相关技术要点，并能够在实际项目中应用这些知识。

**下次更新**: Go 1.26 发布后

---

<p align="center">
  <b>💎 选择合适的 Go 版本,享受最佳开发体验! 🚀</b>
</p>

---

**文档维护者**: Go Documentation Team  
**最后更新**: 2025-10-29  
**文档状态**: 完成  
**适用版本**: Go 1.25.3+
