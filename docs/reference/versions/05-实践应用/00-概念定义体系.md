# Goç‰ˆæœ¬å®è·µåº”ç”¨ - æ¦‚å¿µå®šä¹‰ä½“ç³»

**ç‰ˆæœ¬**: v1.0  
**æ›´æ–°æ—¥æœŸ**: 2025-10-28

---

## æ ¸å¿ƒæ¦‚å¿µ

### ç‰ˆæœ¬ç­–ç•¥

**å½¢å¼åŒ–å®šä¹‰**:
```go
type VersionStrategy struct {
    Current     string        // å½“å‰ç‰ˆæœ¬
    Target      string        // ç›®æ ‡ç‰ˆæœ¬
    Approach    Approach      // å‡çº§æ–¹å¼
    RolloutPlan RolloutPlan   // å‘å¸ƒè®¡åˆ’
}

type Approach int
const (
    Conservative Approach = iota // ä¿å®ˆ(N-2)
    Balanced                      // å¹³è¡¡(N-1)
    Aggressive                    // æ¿€è¿›(N)
)
```

**å†³ç­–æ ‘**:
```text
é¡¹ç›®ç±»å‹?
â”œâ”€ æ–°é¡¹ç›®
â”‚  â””â”€ ä½¿ç”¨æœ€æ–°ç¨³å®šç‰ˆ(Go 1.25)
â”‚
â”œâ”€ ç°æœ‰é¡¹ç›®
â”‚  â”œâ”€ ä¼ä¸šçº§ â†’ N-1ç‰ˆæœ¬
â”‚  â””â”€ åˆ›ä¸šå…¬å¸ â†’ æœ€æ–°ç‰ˆæœ¬
â”‚
â””â”€ åº“é¡¹ç›®
   â””â”€ å…¼å®¹å¤šç‰ˆæœ¬(1.22+)
```

---

### å‡çº§ç­–ç•¥

**ç°åº¦å‘å¸ƒ**:
```go
type GradualRollout struct {
    Stages []Stage
}

type Stage struct {
    Traffic    float64      // æµé‡ç™¾åˆ†æ¯”
    Duration   time.Duration // æŒç»­æ—¶é—´
    Metrics    []Metric     // ç›‘æ§æŒ‡æ ‡
    RollbackOn []Condition  // å›æ»šæ¡ä»¶
}
```

**ç¤ºä¾‹**:
```go
rollout := GradualRollout{
    Stages: []Stage{
        {Traffic: 0.05, Duration: 1*time.Hour},  // 5%
        {Traffic: 0.25, Duration: 4*time.Hour},  // 25%
        {Traffic: 0.50, Duration: 12*time.Hour}, // 50%
        {Traffic: 1.00, Duration: 0},            // 100%
    },
}
```

---

### å…¼å®¹æ€§ç®¡ç†

**GODEBUGä½¿ç”¨**:
```bash
# ä¿æŒæ—§è¡Œä¸º
GODEBUG=loopvar=1 go run main.go

# æŸ¥çœ‹å¯ç”¨é€‰é¡¹
go doc runtime

# åœ¨ä»£ç ä¸­è®¾ç½®
func init() {
    os.Setenv("GODEBUG", "loopvar=1")
}
```

---

## æœ€ä½³å®è·µ

### ç‰ˆæœ¬ç®¡ç†

```go
// go.modä¸­æŒ‡å®šç‰ˆæœ¬
module myproject

go 1.25  // æœ€ä½è¦æ±‚ç‰ˆæœ¬

// å·¥å…·é“¾ç‰ˆæœ¬
toolchain go1.25.3
```

### CI/CDé›†æˆ

```yaml
# GitHub Actionsç¤ºä¾‹
- uses: actions/setup-go@v5
  with:
    go-version: '1.25'
    
- run: go test ./...
- run: go build -v ./...
```

---

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [çŸ¥è¯†å›¾è°±](./00-çŸ¥è¯†å›¾è°±.md)
- [å¯¹æ¯”çŸ©é˜µ](./00-å¯¹æ¯”çŸ©é˜µ.md)

---

**æœ€åæ›´æ–°**: 2025-10-28
