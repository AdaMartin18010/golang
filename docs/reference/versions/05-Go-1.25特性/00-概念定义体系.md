# 概念定义体系

**版本**: v1.0
**更新日期**: 2025-11-11
**适用于**: Go 1.25.3

---

## 📋 目录

- [概念定义体系](#概念定义体系)
  - [📋 目录](#-目录)
  - [Go 1.25.3核心概念](#go-1253核心概念)
    - [1. 容器感知型GOMAXPROCS](#1-容器感知型gomaxprocs)
    - [2. greenteagc实验性GC](#2-greenteagc实验性gc)
    - [3. Nil Pointer检查改进](#3-nil-pointer检查改进)
    - [4. DWARF v5调试支持](#4-dwarf-v5调试支持)
    - [5. 移除"core types"概念](#5-移除core-types概念)
  - [🔗 相关文档](#-相关文档)

---

---

## Go 1.25.3核心概念

### 1. 容器感知型GOMAXPROCS

**定义**: 运行时自动检测并适配容器资源限制

**工作原理**:

```go
// 1. 读取cgroup限制
cgroupLimit := cgroup.cpu.cfs_quota_us / cgroup.cpu.cfs_period_us

// 2. 对比宿主机CPU
hostCPUs := runtime.NumCPU()

// 3. 取较小值
GOMAXPROCS = min(cgroupLimit, hostCPUs)

// 4. 动态监控与更新
for {
    if cgroupLimitChanged() {
        runtime.GOMAXPROCS(newLimit)
    }
}
```

**应用价值**:

- Kubernetes资源利用率提升
- Docker容器性能优化
- 云原生环境成本降低

---

### 2. greenteagc实验性GC

**定义**: 优化小对象性能的新GC算法

**核心改进**:

```text
1. 小对象标记: O(n) → O(log n)
2. GC总开销: 减少10%-40%
3. CPU可扩展性: 提升20%
```

**使用方式**:

```bash
# 编译
GOEXPERIMENT=greenteagc go build

# 测试
GOEXPERIMENT=greenteagc go test -bench=.

# 生产环境（谨慎）
GOEXPERIMENT=greenteagc go build -o prod-app
```

---

### 3. Nil Pointer检查改进

**保证**: 访问nil指针时立即准确panic

**Go 1.25.3修复**:

- 检查时机: 访问时立即（非延迟）
- 检查准确性: 100%
- 错误信息: 清晰准确

---

### 4. DWARF v5调试支持

**优势**:

- 文件大小: -30%
- 链接时间: -15%
- 调试体验: 保持或改进

**默认启用**: Go 1.25.3编译器默认生成DWARFv5

---

### 5. 移除"core types"概念

**定义**: 简化泛型类型集语义

**影响**:

- 语言规范: 更简洁
- 泛型演进: 铺平道路
- 开发体验: 更清晰

---

## 🔗 相关文档
