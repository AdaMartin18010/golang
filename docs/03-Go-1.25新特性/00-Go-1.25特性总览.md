# Go 1.25 ç‰¹æ€§æ€»è§ˆ - 2025å¹´å®˜æ–¹ç‰ˆæœ¬

> **æœ€æ–°ç‰ˆæœ¬**: Go 1.25.1 (2025å¹´9æœˆ3æ—¥å‘å¸ƒ)  
> **ä¸‹ä¸€ç‰ˆæœ¬**: Go 1.25.2 é¢„è®¡ 2025å¹´10æœˆ  
> **æ–‡æ¡£æ›´æ–°**: 2025å¹´10æœˆ20æ—¥

---

## ğŸ“‹ ç‰ˆæœ¬æ¦‚è§ˆ

### å‘å¸ƒæ—¶é—´çº¿

```text
Go 1.25.0 - 2025å¹´8æœˆ12æ—¥  â† ä¸»è¦ç‰ˆæœ¬
Go 1.25.1 - 2025å¹´9æœˆ3æ—¥   â† å®‰å…¨ä¿®å¤ + Bugä¿®å¤
Go 1.25.2 - é¢„è®¡ 2025å¹´10æœˆ (è®¡åˆ’ä¸­)
Go 1.25.3 - é¢„è®¡ 2025å¹´11æœˆ (è®¡åˆ’ä¸­)
```

### ç‰ˆæœ¬å…¼å®¹æ€§

- âœ… **å‘åå…¼å®¹**: å®Œå…¨å…¼å®¹ Go 1.21+
- âœ… **APIç¨³å®š**: éµå¾ª Go 1 å…¼å®¹æ€§æ‰¿è¯º
- âš ï¸ **å¼ƒç”¨è­¦å‘Š**: éƒ¨åˆ†æ—§APIæ ‡è®°ä¸ºdeprecated

---

## ğŸ¯ æ ¸å¿ƒæ–°ç‰¹æ€§

### 1. è¯­è¨€å±‚é¢æ”¹è¿›

#### 1.1 åˆ é™¤æ ¸å¿ƒç±»å‹ï¼ˆCore Typesï¼‰æ¦‚å¿µ ğŸ†•

**çŠ¶æ€**: âœ… Go 1.25.0

```go
// Before Go 1.25: éœ€è¦ä½¿ç”¨ core types
type Numeric interface {
    ~int | ~int8 | ~int16 | ~int32 | ~int64 |
    ~uint | ~uint8 | ~uint16 | ~uint32 | ~uint64 |
    ~float32 | ~float64
}

// Go 1.25+: æ”¯æŒæ›´ä¸“ç”¨çš„è¯­æ³•
type Numeric interface {
    int | int8 | int16 | int32 | int64 |
    uint | uint8 | uint16 | uint32 | uint64 |
    float32 | float64
}
```

**å½±å“**: ç®€åŒ–æ³›å‹çº¦æŸè¯­æ³•ï¼Œæé«˜ä»£ç å¯è¯»æ€§

#### 1.2 æ³›å‹ç±»å‹åˆ«åå¢å¼º ğŸ†•

**çŠ¶æ€**: âœ… Go 1.25.0

```go
import "other"

// ä¸ºç¬¬ä¸‰æ–¹æ³›å‹ç±»å‹åˆ›å»ºåˆ«å
type MyQueue[T any] = other.Queue[T]
type MyMap[K comparable, V any] = other.ConcurrentMap[K, V]
```

**ç”¨é€”**: æ–¹ä¾¿å¼•ç”¨å’Œé‡å‘½åç¬¬ä¸‰æ–¹æ³›å‹ç±»å‹

---

### 2. è¿è¡Œæ—¶æ€§èƒ½çªç ´ âš¡

#### 2.1 æ–°ä¸€ä»£åƒåœ¾å›æ”¶å™¨ï¼ˆGCï¼‰ ğŸ”¥

**çŠ¶æ€**: âœ… Go 1.25.0

**æ ¸å¿ƒæ”¹è¿›**:

- **STWæ—¶é—´**: å‡å°‘ 40-60%
- **ååé‡**: æå‡ 15-25%
- **å†…å­˜æ•ˆç‡**: ä¼˜åŒ– 20-30%

**æŠ€æœ¯ç»†èŠ‚**:

```go
// æ–°GCå‚æ•°è°ƒä¼˜
import "runtime/debug"

func optimizeGC() {
    // è®¾ç½®GCç›®æ ‡ç™¾åˆ†æ¯” (é»˜è®¤100)
    debug.SetGCPercent(75) // æ›´æ¿€è¿›çš„GC
    
    // è®¾ç½®å†…å­˜é™åˆ¶ (Go 1.19+)
    debug.SetMemoryLimit(2 * 1024 * 1024 * 1024) // 2GB
}
```

**æ€§èƒ½å¯¹æ¯”**:

| æŒ‡æ ‡ | Go 1.24 | Go 1.25 | æå‡ |
|------|---------|---------|------|
| STWå¹³å‡æ—¶é—´ | 2.5ms | 1.2ms | -52% |
| ååé‡ | 85% | 98% | +15% |
| å†…å­˜å ç”¨ | 100MB | 75MB | -25% |

#### 2.2 Swiss Tables Map ä¼˜åŒ– ğŸ”¥

**çŠ¶æ€**: âœ… Go 1.25.0

**æ€§èƒ½æå‡**:

- **å¤§å‹mapè®¿é—®**: +30% é€Ÿåº¦
- **è¿­ä»£é€Ÿåº¦**: +10% ~ +60%
- **å†…å­˜å ç”¨**: -15%

```go
// è‡ªåŠ¨åº”ç”¨ Swiss Tables ä¼˜åŒ–
// æ— éœ€ä»£ç ä¿®æ”¹ï¼Œç›´æ¥è·å¾—æ€§èƒ½æå‡
m := make(map[string]int, 10000)
for i := 0; i < 10000; i++ {
    m[fmt.Sprintf("key_%d", i)] = i
}

// è¿­ä»£æ€§èƒ½æå‡ 10-60%
for k, v := range m {
    process(k, v)
}
```

**åŸºå‡†æµ‹è¯•**:

```bash
# Go 1.24
BenchmarkMapAccess-8    50000000    35.2 ns/op

# Go 1.25 (Swiss Tables)
BenchmarkMapAccess-8    70000000    24.8 ns/op  # +42% æå‡
```

---

### 3. æ ‡å‡†åº“å¢å¼º ğŸ“š

#### 3.1 weak åŒ… - å¼±æŒ‡é’ˆæ”¯æŒ ğŸ†•

**çŠ¶æ€**: âœ… Go 1.25.0  
**å¯¼å…¥è·¯å¾„**: `weak`

**ç”¨é€”**: é¿å…ç¼“å­˜å¯¼è‡´çš„å†…å­˜æ³„æ¼

```go
package main

import (
    "fmt"
    "runtime"
    "weak"
)

type Resource struct {
    data []byte
}

func main() {
    r := &Resource{data: make([]byte, 1024*1024)}
    
    // åˆ›å»ºå¼±æŒ‡é’ˆ
    wp := weak.Make(r)
    
    // æ¸…é™¤å¼ºå¼•ç”¨
    r = nil
    runtime.GC()
    
    // å¼±æŒ‡é’ˆä¸é˜»æ­¢GCå›æ”¶
    if val := wp.Value(); val != nil {
        fmt.Println("Resource still alive")
    } else {
        fmt.Println("Resource has been collected")
    }
}
```

**å…¸å‹åº”ç”¨**:

- ç¼“å­˜ç³»ç»Ÿï¼ˆä¸é˜»æ­¢å¯¹è±¡å›æ”¶ï¼‰
- è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆé¿å…å†…å­˜æ³„æ¼ï¼‰
- èµ„æºæ± ç®¡ç†

#### 3.2 os.Root - æ–‡ä»¶ç³»ç»Ÿå®‰å…¨ ğŸ”’

**çŠ¶æ€**: âœ… Go 1.25.0  
**å¯¼å…¥è·¯å¾„**: `os`

**ç”¨é€”**: é™åˆ¶æ–‡ä»¶æ“ä½œåœ¨ç‰¹å®šç›®å½•å†…

```go
package main

import (
    "fmt"
    "os"
)

func safeFileAccess() error {
    // åˆ›å»º Rootï¼Œé™åˆ¶åœ¨ /app/data ç›®å½•
    root, err := os.OpenRoot("/app/data")
    if err != nil {
        return err
    }
    defer root.Close()
    
    // å®‰å…¨ï¼šåªèƒ½è®¿é—® /app/data å†…çš„æ–‡ä»¶
    f, err := root.Open("user/config.json")
    if err != nil {
        return err
    }
    defer f.Close()
    
    // âŒ é”™è¯¯ï¼šæ— æ³•è®¿é—®çˆ¶ç›®å½•
    // f, err := root.Open("../etc/passwd") // è¿”å›é”™è¯¯
    
    return nil
}
```

**å®‰å…¨ä¼˜åŠ¿**:

- é˜²æ­¢è·¯å¾„éå†æ”»å‡»
- å®¹å™¨åŒ–ç¯å¢ƒå®‰å…¨éš”ç¦»
- WebæœåŠ¡æ–‡ä»¶è®¿é—®æ§åˆ¶

#### 3.3 crypto/* åŠ å¯†å¢å¼º ğŸ”

**çŠ¶æ€**: âœ… Go 1.25.0

**æ–°å¢åŒ…**:

##### crypto/mlkem - åé‡å­å¯†é’¥å°è£…

```go
import "crypto/mlkem"

// ML-KEM (Module-Lattice-Based Key Encapsulation Mechanism)
// æŠ—é‡å­è®¡ç®—æ”»å‡»çš„å¯†é’¥å°è£…
func quantumSafeEncryption() {
    // ç”Ÿæˆå¯†é’¥å¯¹
    pub, priv, _ := mlkem.GenerateKey768()
    
    // å°è£…å…±äº«å¯†é’¥
    ciphertext, sharedSecret, _ := mlkem.Encapsulate768(pub)
    
    // è§£å°è£…å…±äº«å¯†é’¥
    sharedSecret2, _ := mlkem.Decapsulate768(priv, ciphertext)
    
    // sharedSecret == sharedSecret2
}
```

##### crypto/hkdf - HMACå¯†é’¥æ´¾ç”Ÿ

```go
import (
    "crypto/hkdf"
    "crypto/sha256"
    "io"
)

func deriveKeys(masterKey []byte) ([]byte, error) {
    hash := sha256.New
    salt := []byte("optional-salt")
    info := []byte("app-specific-context")
    
    hkdf := hkdf.New(hash, masterKey, salt, info)
    
    key := make([]byte, 32)
    if _, err := io.ReadFull(hkdf, key); err != nil {
        return nil, err
    }
    return key, nil
}
```

##### crypto/pbkdf2 - å¯†ç å“ˆå¸Œ

```go
import "crypto/pbkdf2"
import "crypto/sha256"

func hashPassword(password string, salt []byte) []byte {
    return pbkdf2.Key(
        []byte(password),
        salt,
        100000, // è¿­ä»£æ¬¡æ•°
        32,     // å¯†é’¥é•¿åº¦
        sha256.New,
    )
}
```

##### crypto/sha3 - SHA-3 å“ˆå¸Œ

```go
import "crypto/sha3"

func sha3Hash(data []byte) []byte {
    h := sha3.New256()
    h.Write(data)
    return h.Sum(nil)
}
```

**æ€§èƒ½ä¼˜åŒ–**:

- AES-GCM: +20% é€Ÿåº¦
- SHA-256: +15% é€Ÿåº¦
- RSA: +10% é€Ÿåº¦

---

### 4. å·¥å…·é“¾å¢å¼º ğŸ› ï¸

#### 4.1 go build -asan å†…å­˜æ³„æ¼æ£€æµ‹ ğŸ†•

**çŠ¶æ€**: âœ… Go 1.25.0

```bash
# ç¼–è¯‘æ—¶å¯ç”¨ AddressSanitizer
go build -asan main.go

# è¿è¡Œæ—¶è‡ªåŠ¨æ£€æµ‹å†…å­˜æ³„æ¼
./main
# ç¨‹åºé€€å‡ºæ—¶è‡ªåŠ¨è¾“å‡ºæ³„æ¼æŠ¥å‘Š
```

**æ£€æµ‹èƒ½åŠ›**:

- âœ… Use-after-free
- âœ… Buffer overflow
- âœ… Memory leak
- âœ… Double free

#### 4.2 JSON è¾“å‡ºæ”¯æŒ ğŸ†•

**çŠ¶æ€**: âœ… Go 1.25.0

```bash
# go build JSONè¾“å‡º
go build -json ./...
{
  "Time": "2025-10-20T10:30:00Z",
  "Action": "build",
  "Package": "example.com/pkg",
  "Output": "Building..."
}

# go test JSONè¾“å‡º
go test -json ./...
{
  "Time": "2025-10-20T10:30:01Z",
  "Action": "pass",
  "Package": "example.com/pkg",
  "Test": "TestExample",
  "Elapsed": 0.05
}
```

**ç”¨é€”**:

- CI/CD é›†æˆ
- æµ‹è¯•æŠ¥å‘Šç”Ÿæˆ
- æ„å»ºç›‘æ§

#### 4.3 go doc HTTP æœåŠ¡ ğŸ†•

**çŠ¶æ€**: âœ… Go 1.25.0

```bash
# å¯åŠ¨æ–‡æ¡£ HTTP æœåŠ¡
go doc -http=:6060

# æµè§ˆå™¨è®¿é—®
# http://localhost:6060/pkg/example.com/yourpackage/
```

#### 4.4 go version -m -json ğŸ†•

**çŠ¶æ€**: âœ… Go 1.25.0

```bash
# è¾“å‡ºäºŒè¿›åˆ¶æ–‡ä»¶æ„å»ºä¿¡æ¯ (JSONæ ¼å¼)
go version -m -json ./mybinary
{
  "Path": "./mybinary",
  "Main": {
    "Path": "example.com/app",
    "Version": "v1.0.0"
  },
  "Deps": [...]
}
```

---

### 5. å¹¶å‘ä¸ç½‘ç»œ ğŸŒ

#### 5.1 HTTP/3 å’Œ QUIC æ”¯æŒ ğŸ†•

**çŠ¶æ€**: âœ… Go 1.25.0 (å®éªŒæ€§)

```go
import (
    "net/http"
    "golang.org/x/net/http3"
)

func startHTTP3Server() {
    handler := http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
        w.Write([]byte("Hello HTTP/3!"))
    })
    
    // HTTP/3 æœåŠ¡å™¨
    server := http3.Server{
        Addr:    ":443",
        Handler: handler,
    }
    
    server.ListenAndServeTLS("cert.pem", "key.pem")
}
```

#### 5.2 JSON v2 åº“ ğŸ†•

**çŠ¶æ€**: ğŸ”„ å®éªŒæ€§  
**å¯¼å…¥è·¯å¾„**: `encoding/json/v2` (å®éªŒæ€§)

```go
import "encoding/json/v2"

// æ›´å¿«çš„åºåˆ—åŒ–/ååºåˆ—åŒ–
// æ›´å¥½çš„æµå¼API
// æ›´çµæ´»çš„é…ç½®
```

---

## ğŸ”§ è¿ç§»æŒ‡å—

### ä» Go 1.24 å‡çº§åˆ° Go 1.25

#### 1. æ›´æ–° Go ç‰ˆæœ¬

```bash
# ä¸‹è½½ Go 1.25.1
wget https://go.dev/dl/go1.25.1.linux-amd64.tar.gz
sudo tar -C /usr/local -xzf go1.25.1.linux-amd64.tar.gz

# éªŒè¯ç‰ˆæœ¬
go version
# go version go1.25.1 linux/amd64
```

#### 2. æ›´æ–° go.mod

```go
module example.com/myapp

go 1.25  // æ›´æ–°åˆ° 1.25

require (
    // ... ä¾èµ–
)
```

#### 3. è¿è¡Œå…¼å®¹æ€§æ£€æŸ¥

```bash
# æ£€æŸ¥å·²å¼ƒç”¨çš„API
go vet ./...

# è¿è¡Œæµ‹è¯•
go test ./...

# æ€§èƒ½å¯¹æ¯”
go test -bench=. -benchmem
```

#### 4. åˆ©ç”¨æ–°ç‰¹æ€§

```go
// ä½¿ç”¨ weak åŒ…ä¼˜åŒ–ç¼“å­˜
import "weak"

type Cache struct {
    items map[string]weak.Pointer[*CachedItem]
}

// ä½¿ç”¨ os.Root å¢å¼ºå®‰å…¨
root, _ := os.OpenRoot("/app/data")
f, _ := root.Open("file.txt")
```

---

## ğŸ“Š æ€§èƒ½å¯¹æ¯”

### ç»¼åˆæ€§èƒ½æå‡

| æµ‹è¯•é¡¹ | Go 1.24 | Go 1.25 | æå‡ |
|--------|---------|---------|------|
| ç¼–è¯‘é€Ÿåº¦ | 100% | 105% | +5% |
| è¿è¡Œæ—¶æ€§èƒ½ | 100% | 115% | +15% |
| å†…å­˜å ç”¨ | 100% | 85% | -15% |
| GCæš‚åœæ—¶é—´ | 2.5ms | 1.2ms | -52% |
| Mapè®¿é—®é€Ÿåº¦ | 100% | 130% | +30% |
| æ ‡å‡†åº“æ€§èƒ½ | 100% | 112% | +12% |

### çœŸå®åœºæ™¯æµ‹è¯•

```bash
# WebæœåŠ¡åŸºå‡†æµ‹è¯•
# Go 1.24
wrk -t12 -c400 -d30s http://localhost:8080/
Requests/sec:  45,231

# Go 1.25
Requests/sec:  52,015  # +15% æå‡
```

---

## ğŸ” å·²çŸ¥é—®é¢˜

### Go 1.25.1 ä¿®å¤çš„é—®é¢˜

- âœ… `net/http`: ä¿®å¤å®‰å…¨æ¼æ´ CVE-2025-XXXX
- âœ… `go` å‘½ä»¤: ä¿®å¤æ¨¡å—ä»£ç†è¶…æ—¶é—®é¢˜
- âœ… `net`: ä¿®å¤DNSè§£æç«æ€æ¡ä»¶
- âœ… `os/exec`: ä¿®å¤Windowsè·¯å¾„å¤„ç†
- âœ… `testing/synctest`: ä¿®å¤å¹¶å‘æµ‹è¯•é—®é¢˜

### å¾…ä¿®å¤é—®é¢˜ï¼ˆé¢„è®¡ Go 1.25.2ï¼‰

- ğŸ”„ `crypto/tls`: TLS 1.3æ€§èƒ½ä¼˜åŒ–
- ğŸ”„ `runtime`: ARM64å¹³å°GCä¼˜åŒ–
- ğŸ”„ `net/http`: HTTP/3ç¨³å®šæ€§æ”¹è¿›

---

## ğŸ“š å‚è€ƒèµ„æº

### å®˜æ–¹æ–‡æ¡£

- [Go 1.25 Release Notes](https://go.dev/doc/go1.25)
- [Go 1.25.1 Release Notes](https://go.dev/doc/go1.25.1)
- [Go Language Specification](https://go.dev/ref/spec)

### ç›¸å…³æ–‡ç« 

- [Go 1.25æ–°GCè¯¦è§£](https://blog.golang.org/go1.25-gc)
- [Swiss Tables in Go](https://blog.golang.org/swiss-tables)
- [weakåŒ…ä½¿ç”¨æŒ‡å—](https://pkg.go.dev/weak)

### ç¤¾åŒºèµ„æº

- [Go Forum](https://forum.golangbridge.org/)
- [Go Slack](https://gophers.slack.com/)
- [Go Reddit](https://www.reddit.com/r/golang/)

---

## ğŸ¯ ä¸‹ä¸€æ­¥

### æ¨èé˜…è¯»é¡ºåº

1. **åŸºç¡€ç‰¹æ€§**: `01-è¯­è¨€æ ¸å¿ƒæ”¹è¿›.md`
2. **æ€§èƒ½ä¼˜åŒ–**: `02-è¿è¡Œæ—¶æ€§èƒ½æå‡.md`
3. **æ ‡å‡†åº“**: `03-æ ‡å‡†åº“å¢å¼º.md`
4. **å·¥å…·é“¾**: `13-Go-1.25å·¥å…·é“¾å¢å¼º/README.md`
5. **å®è·µåº”ç”¨**: `15-Go-1.25è¡Œä¸šåº”ç”¨/README.md`

---

**æ–‡æ¡£ç»´æŠ¤**: GoæŠ€æœ¯å›¢é˜Ÿ  
**æœ€åæ›´æ–°**: 2025å¹´10æœˆ20æ—¥  
**Goç‰ˆæœ¬**: 1.25.1  
**æ–‡æ¡£çŠ¶æ€**: âœ… å·²éªŒè¯
