# Goè¯­è¨€ä»£ç è´¨é‡æå‡

<!-- TOC START -->
- [Goè¯­è¨€ä»£ç è´¨é‡æå‡](#goè¯­è¨€ä»£ç è´¨é‡æå‡)
  - [1.1 ğŸ“Š ä»£ç è´¨é‡æ ‡å‡†](#11--ä»£ç è´¨é‡æ ‡å‡†)
    - [1.1.1 ä¼ä¸šçº§ä»£ç æ ‡å‡†](#111-ä¼ä¸šçº§ä»£ç æ ‡å‡†)
    - [1.1.2 ä»£ç è´¨é‡æŒ‡æ ‡](#112-ä»£ç è´¨é‡æŒ‡æ ‡)
  - [1.2 ğŸ” ä»£ç å®¡æŸ¥ä½“ç³»](#12--ä»£ç å®¡æŸ¥ä½“ç³»)
    - [1.2.1 å®¡æŸ¥æµç¨‹](#121-å®¡æŸ¥æµç¨‹)
    - [1.2.2 å®¡æŸ¥æ£€æŸ¥æ¸…å•](#122-å®¡æŸ¥æ£€æŸ¥æ¸…å•)
  - [1.3 ğŸ§ª è‡ªåŠ¨åŒ–æµ‹è¯•](#13--è‡ªåŠ¨åŒ–æµ‹è¯•)
    - [1.3.1 æµ‹è¯•é‡‘å­—å¡”](#131-æµ‹è¯•é‡‘å­—å¡”)
    - [1.3.2 æµ‹è¯•å·¥å…·é“¾](#132-æµ‹è¯•å·¥å…·é“¾)
  - [1.4 ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–](#14--æ€§èƒ½ä¼˜åŒ–)
    - [1.4.1 æ€§èƒ½åˆ†æå·¥å…·](#141-æ€§èƒ½åˆ†æå·¥å…·)
    - [1.4.2 æ€§èƒ½ä¼˜åŒ–ç­–ç•¥](#142-æ€§èƒ½ä¼˜åŒ–ç­–ç•¥)
  - [1.5 ğŸ›¡ï¸ å®‰å…¨ç¼–ç¨‹](#15-ï¸-å®‰å…¨ç¼–ç¨‹)
    - [1.5.1 å®‰å…¨ç¼–ç å®è·µ](#151-å®‰å…¨ç¼–ç å®è·µ)
    - [1.5.2 å®‰å…¨å·¥å…·é›†æˆ](#152-å®‰å…¨å·¥å…·é›†æˆ)
<!-- TOC END -->

## 1.1 ğŸ“Š ä»£ç è´¨é‡æ ‡å‡†

### 1.1.1 ä¼ä¸šçº§ä»£ç æ ‡å‡†

**å¯è¯»æ€§æ ‡å‡†**:

- å‡½æ•°é•¿åº¦ä¸è¶…è¿‡50è¡Œ
- å˜é‡å‘½åå…·æœ‰æè¿°æ€§
- æ³¨é‡Šè¦†ç›–å¤æ‚é€»è¾‘
- ä»£ç ç»“æ„æ¸…æ™°

**å¯ç»´æŠ¤æ€§æ ‡å‡†**:

- å•ä¸€èŒè´£åŸåˆ™
- ä½è€¦åˆé«˜å†…èš
- æ¨¡å—åŒ–è®¾è®¡
- æ¥å£æŠ½è±¡

**å¯æµ‹è¯•æ€§æ ‡å‡†**:

- å‡½æ•°çº¯åº¦é«˜
- ä¾èµ–æ³¨å…¥
- æ¨¡æ‹Ÿå‹å¥½
- æµ‹è¯•è¦†ç›–ç‡é«˜

### 1.1.2 ä»£ç è´¨é‡æŒ‡æ ‡

**å¤æ‚åº¦æŒ‡æ ‡**:

- åœˆå¤æ‚åº¦ < 10
- è®¤çŸ¥å¤æ‚åº¦ < 15
- é‡å¤ä»£ç ç‡ < 5%

**è¦†ç›–ç‡æŒ‡æ ‡**:

- å•å…ƒæµ‹è¯•è¦†ç›–ç‡ > 90%
- é›†æˆæµ‹è¯•è¦†ç›–ç‡ > 80%
- ç«¯åˆ°ç«¯æµ‹è¯•è¦†ç›–ç‡ > 70%

## 1.2 ğŸ” ä»£ç å®¡æŸ¥ä½“ç³»

### 1.2.1 å®¡æŸ¥æµç¨‹

**1. è‡ªå®¡æŸ¥**:

- ä»£ç é€»è¾‘æ£€æŸ¥
- æ€§èƒ½é—®é¢˜è¯†åˆ«
- å®‰å…¨æ¼æ´æ£€æŸ¥

**2. åŒè¡Œå®¡æŸ¥**:

- ä»£ç é£æ ¼æ£€æŸ¥
- æ¶æ„è®¾è®¡å®¡æŸ¥
- æœ€ä½³å®è·µéªŒè¯

**3. å·¥å…·å®¡æŸ¥**:

- é™æ€ä»£ç åˆ†æ
- å®‰å…¨æ‰«æ
- æ€§èƒ½åˆ†æ

### 1.2.2 å®¡æŸ¥æ£€æŸ¥æ¸…å•

**åŠŸèƒ½æ­£ç¡®æ€§**:

- [ ] åŠŸèƒ½éœ€æ±‚æ»¡è¶³
- [ ] è¾¹ç•Œæ¡ä»¶å¤„ç†
- [ ] é”™è¯¯å¤„ç†å®Œæ•´
- [ ] å¼‚å¸¸æƒ…å†µå¤„ç†

**ä»£ç è´¨é‡**:

- [ ] å‘½åè§„èŒƒ
- [ ] ä»£ç ç»“æ„
- [ ] æ³¨é‡Šå®Œæ•´
- [ ] æ— é‡å¤ä»£ç 

**æ€§èƒ½è€ƒè™‘**:

- [ ] ç®—æ³•å¤æ‚åº¦
- [ ] å†…å­˜ä½¿ç”¨
- [ ] å¹¶å‘å®‰å…¨
- [ ] I/Oä¼˜åŒ–

## 1.3 ğŸ§ª è‡ªåŠ¨åŒ–æµ‹è¯•

### 1.3.1 æµ‹è¯•é‡‘å­—å¡”

**å•å…ƒæµ‹è¯• (70%)**:

```go
func TestCalculateTax(t *testing.T) {
    tests := []struct {
        name     string
        income   float64
        expected float64
    }{
        {"low income", 10000, 1000},
        {"medium income", 50000, 7500},
        {"high income", 100000, 20000},
    }
    
    for _, tt := range tests {
        t.Run(tt.name, func(t *testing.T) {
            result := CalculateTax(tt.income)
            if result != tt.expected {
                t.Errorf("CalculateTax() = %v, want %v", result, tt.expected)
            }
        })
    }
}
```

**é›†æˆæµ‹è¯• (20%)**:

```go
func TestUserServiceIntegration(t *testing.T) {
    // è®¾ç½®æµ‹è¯•æ•°æ®åº“
    db := setupTestDB(t)
    defer cleanupTestDB(t, db)
    
    // åˆ›å»ºæœåŠ¡
    userService := NewUserService(db)
    
    // æµ‹è¯•ç”¨æˆ·åˆ›å»º
    user := &User{Name: "Test User", Email: "test@example.com"}
    err := userService.CreateUser(user)
    assert.NoError(t, err)
    
    // æµ‹è¯•ç”¨æˆ·æŸ¥è¯¢
    foundUser, err := userService.GetUser(user.ID)
    assert.NoError(t, err)
    assert.Equal(t, user.Name, foundUser.Name)
}
```

**ç«¯åˆ°ç«¯æµ‹è¯• (10%)**:

```go
func TestUserRegistrationE2E(t *testing.T) {
    // å¯åŠ¨æµ‹è¯•æœåŠ¡å™¨
    server := startTestServer(t)
    defer server.Close()
    
    // å‘é€æ³¨å†Œè¯·æ±‚
    payload := `{"name": "Test User", "email": "test@example.com"}`
    resp, err := http.Post(server.URL+"/api/users", "application/json", strings.NewReader(payload))
    require.NoError(t, err)
    defer resp.Body.Close()
    
    // éªŒè¯å“åº”
    assert.Equal(t, http.StatusCreated, resp.StatusCode)
    
    var user User
    err = json.NewDecoder(resp.Body).Decode(&user)
    assert.NoError(t, err)
    assert.Equal(t, "Test User", user.Name)
}
```

### 1.3.2 æµ‹è¯•å·¥å…·é“¾

**æµ‹è¯•æ¡†æ¶**:

- `testing`: Goæ ‡å‡†æµ‹è¯•åŒ…
- `testify`: æ–­è¨€å’Œæ¨¡æ‹Ÿåº“
- `gomock`: æ¥å£æ¨¡æ‹Ÿç”Ÿæˆå™¨

**è¦†ç›–ç‡å·¥å…·**:

- `go test -cover`: åŸºæœ¬è¦†ç›–ç‡
- `go test -coverprofile`: è¯¦ç»†è¦†ç›–ç‡æŠ¥å‘Š
- `gocov`: è¦†ç›–ç‡å¯è§†åŒ–

## 1.4 ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### 1.4.1 æ€§èƒ½åˆ†æå·¥å…·

**pprofä½¿ç”¨**:

```go
import _ "net/http/pprof"

func main() {
    // å¯åŠ¨pprofæœåŠ¡å™¨
    go func() {
        log.Println(http.ListenAndServe("localhost:6060", nil))
    }()
    
    // ä½ çš„åº”ç”¨ä»£ç 
    runApplication()
}
```

**æ€§èƒ½åŸºå‡†æµ‹è¯•**:

```go
func BenchmarkStringConcatenation(b *testing.B) {
    b.Run("strings.Builder", func(b *testing.B) {
        for i := 0; i < b.N; i++ {
            var builder strings.Builder
            for j := 0; j < 1000; j++ {
                builder.WriteString("hello")
            }
            _ = builder.String()
        }
    })
    
    b.Run("string concatenation", func(b *testing.B) {
        for i := 0; i < b.N; i++ {
            result := ""
            for j := 0; j < 1000; j++ {
                result += "hello"
            }
        }
    })
}
```

### 1.4.2 æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

**å†…å­˜ä¼˜åŒ–**:

- å¯¹è±¡æ± å¤ç”¨
- é›¶æ‹·è´æŠ€æœ¯
- å†…å­˜å¯¹é½ä¼˜åŒ–

**å¹¶å‘ä¼˜åŒ–**:

- å·¥ä½œæ± æ¨¡å¼
- æ— é”æ•°æ®ç»“æ„
- åç¨‹æ± ç®¡ç†

**I/Oä¼˜åŒ–**:

- å¼‚æ­¥I/O
- æ‰¹é‡å¤„ç†
- è¿æ¥æ± 

## 1.5 ğŸ›¡ï¸ å®‰å…¨ç¼–ç¨‹

### 1.5.1 å®‰å…¨ç¼–ç å®è·µ

**è¾“å…¥éªŒè¯**:

```go
func ValidateEmail(email string) error {
    if email == "" {
        return errors.New("email cannot be empty")
    }
    
    if len(email) > 254 {
        return errors.New("email too long")
    }
    
    emailRegex := regexp.MustCompile(`^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$`)
    if !emailRegex.MatchString(email) {
        return errors.New("invalid email format")
    }
    
    return nil
}
```

**SQLæ³¨å…¥é˜²æŠ¤**:

```go
func GetUserByID(db *sql.DB, userID int) (*User, error) {
    // ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢é˜²æ­¢SQLæ³¨å…¥
    query := "SELECT id, name, email FROM users WHERE id = ?"
    row := db.QueryRow(query, userID)
    
    var user User
    err := row.Scan(&user.ID, &user.Name, &user.Email)
    if err != nil {
        return nil, fmt.Errorf("failed to get user: %w", err)
    }
    
    return &user, nil
}
```

### 1.5.2 å®‰å…¨å·¥å…·é›†æˆ

**é™æ€å®‰å…¨åˆ†æ**:

- `gosec`: Goå®‰å…¨æ‰«æå™¨
- `golangci-lint`: ä»£ç è´¨é‡æ£€æŸ¥
- `semgrep`: è¯­ä¹‰å®‰å…¨åˆ†æ

**ä¾èµ–å®‰å…¨æ£€æŸ¥**:

- `govulncheck`: æ¼æ´æ£€æŸ¥
- `nancy`: ä¾èµ–å®‰å…¨æ‰«æ
- `snyk`: å®‰å…¨æ¼æ´ç›‘æ§

---

**ä»£ç è´¨é‡æå‡**: 2025å¹´1æœˆ  
**æ¨¡å—çŠ¶æ€**: âœ… **å·²å®Œæˆ**  
**è´¨é‡ç­‰çº§**: ğŸ† **ä¼ä¸šçº§**
