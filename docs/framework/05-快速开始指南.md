# 框架快速开始指南

> **版本**: v1.0
> **日期**: 2025-01-XX
> **目标**: 5 分钟内快速上手框架

---

## 🎯 目标

本指南将帮助你在 5 分钟内：
1. ✅ 设置开发环境
2. ✅ 运行第一个示例
3. ✅ 理解框架核心概念
4. ✅ 开始使用框架开发

---

## 📋 前置要求

- Go 1.25.3 或更高版本
- Git
- 基本的 Go 语言知识

---

## 🚀 快速开始（5 分钟）

### 步骤 1: 克隆项目（1 分钟）

```bash
# 克隆项目
git clone https://github.com/yourusername/golang.git
cd golang

# 验证 Go 版本
go version  # 应该显示 go1.25.3 或更高
```

### 步骤 2: 设置开发环境（1 分钟）

```bash
# 方式 1: 使用 Makefile（推荐）
make setup

# 方式 2: 使用脚本
bash scripts/dev/setup.sh
```

这将自动：
- ✅ 检查 Go 版本
- ✅ 安装依赖
- ✅ 安装开发工具（Air、Wire、Ent 等）
- ✅ 生成代码
- ✅ 运行测试

### 步骤 3: 安装 Git Hooks（30 秒）

```bash
# 安装 pre-commit hooks
make install-hooks
```

这将确保每次提交前自动运行代码质量检查。

### 步骤 4: 运行示例（2 分钟）

```bash
# 进入示例目录
cd examples/framework-usage

# 运行示例
go run main.go
```

你应该看到：
```
Starting application
Server started on :8080
```

### 步骤 5: 测试 API（30 秒）

在另一个终端中：

```bash
# 1. 健康检查
curl http://localhost:8080/health

# 2. 登录获取 token
curl -X POST http://localhost:8080/api/v1/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"admin","password":"password"}'

# 3. 使用 token 访问 API（替换 YOUR_TOKEN）
curl http://localhost:8080/api/v1/users \
  -H "Authorization: Bearer YOUR_TOKEN"
```

---

## 📚 下一步

### 1. 理解框架架构

阅读以下文档了解框架设计：

- [架构模型与依赖注入完整说明](../architecture/00-架构模型与依赖注入完整说明.md)
- [框架代码与业务代码说明](03-框架代码与业务代码说明.md)

### 2. 查看示例代码

- [框架使用示例说明](02-框架使用示例说明.md)
- [用户领域示例](../../examples/framework-usage/user-domain/README.md)

### 3. 学习核心组件

- [统一日志系统](00-框架基础设施说明.md#统一日志系统)
- [健康检查](../pkg/health/README.md)
- [事件总线](../pkg/eventbus/README.md)

### 4. 开始开发

参考 [框架使用示例说明](02-框架使用示例说明.md) 开始构建你的应用。

---

## 🎯 核心概念速览

### Clean Architecture 四层

```
┌─────────────────────────────────────┐
│   Interfaces Layer (接口层)         │  ← HTTP, gRPC, GraphQL
├─────────────────────────────────────┤
│   Application Layer (应用层)        │  ← 用例编排、DTO
├─────────────────────────────────────┤
│   Domain Layer (领域层)             │  ← 业务逻辑、实体
├─────────────────────────────────────┤
│   Infrastructure Layer (基础设施层) │  ← 数据库、消息队列、缓存
└─────────────────────────────────────┘
```

### 依赖注入（Wire）

框架使用 Google Wire 进行依赖注入：

```go
// 在 scripts/wire/wire.go 中定义依赖关系
// Wire 会自动生成依赖注入代码
```

### 领域驱动设计（DDD）

- **实体（Entity）**: 有唯一标识的业务对象
- **值对象（Value Object）**: 没有唯一标识的不可变对象
- **聚合（Aggregate）**: 一组相关对象的集合
- **仓储（Repository）**: 数据访问抽象

---

## 🔧 常用命令

```bash
# 开发模式运行（热重载）
make run-dev

# 运行测试
make test

# 代码检查
make check

# 生成代码
make generate

# 查看所有命令
make help
```

---

## ❓ 常见问题

### Q: 如何创建新的领域模型？

A: 参考 [框架使用示例说明](02-框架使用示例说明.md) 中的步骤。

### Q: 如何添加新的 API 端点？

A: 在 `internal/interfaces/http/chi/router.go` 中添加路由，参考示例代码。

### Q: 如何配置数据库连接？

A: 编辑 `configs/config.yaml` 或使用环境变量，参考配置文档。

### Q: 如何添加新的中间件？

A: 在 `internal/interfaces/http/chi/middleware/` 中创建新的中间件，然后在路由中注册。

---

## 📖 相关文档

- [框架基础设施说明](00-框架基础设施说明.md)
- [框架使用示例说明](02-框架使用示例说明.md)
- [框架代码与业务代码说明](03-框架代码与业务代码说明.md)
- [API规范与代码生成](01-API规范与代码生成.md)
- [Git Hooks与代码质量](04-Git-Hooks与代码质量.md)

---

## 🎉 恭喜！

你已经成功设置了框架开发环境并运行了第一个示例！

接下来：
1. 📖 阅读 [框架使用示例说明](02-框架使用示例说明.md) 了解如何使用框架
2. 🔍 查看 [示例代码](../../examples/framework-usage/) 学习最佳实践
3. 🚀 开始构建你的应用！

---

**最后更新**: 2025-01-XX
