# 2.1.1 å‚æ•°å¤„ç†

<!-- TOC START -->
- [2.1.1 å‚æ•°å¤„ç†](#å‚æ•°å¤„ç†)
  - [2.1.1.1 ğŸ“š **ç†è®ºåˆ†æ**](#ğŸ“š-**ç†è®ºåˆ†æ**)
    - [2.1.1.1.1 **å‚æ•°ç±»å‹**](#**å‚æ•°ç±»å‹**)
    - [2.1.1.1.2 **å‚æ•°ç»‘å®šä¸æ ¡éªŒ**](#**å‚æ•°ç»‘å®šä¸æ ¡éªŒ**)
  - [2.1.1.2 ğŸ’» **ä»£ç ç¤ºä¾‹**](#ğŸ’»-**ä»£ç ç¤ºä¾‹**)
    - [2.1.1.2.1 **æ ‡å‡†åº“å‚æ•°è·å–**](#**æ ‡å‡†åº“å‚æ•°è·å–**)
    - [2.1.1.2.2 **Ginå‚æ•°ç»‘å®šä¸æ ¡éªŒ**](#**ginå‚æ•°ç»‘å®šä¸æ ¡éªŒ**)
    - [2.1.1.2.3 **Echoå‚æ•°ç»‘å®šä¸æ ¡éªŒ**](#**echoå‚æ•°ç»‘å®šä¸æ ¡éªŒ**)
    - [2.1.1.2.4 **Fiberå‚æ•°ç»‘å®šä¸æ ¡éªŒ**](#**fiberå‚æ•°ç»‘å®šä¸æ ¡éªŒ**)
  - [2.1.1.3 ğŸ§ª **æµ‹è¯•ä»£ç **](#ğŸ§ª-**æµ‹è¯•ä»£ç **)
  - [2.1.1.4 ğŸ¯ **æœ€ä½³å®è·µ**](#ğŸ¯-**æœ€ä½³å®è·µ**)
  - [2.1.1.5 ğŸ” **å¸¸è§é—®é¢˜**](#ğŸ”-**å¸¸è§é—®é¢˜**)
  - [2.1.1.6 ğŸ“š **æ‰©å±•é˜…è¯»**](#ğŸ“š-**æ‰©å±•é˜…è¯»**)
<!-- TOC END -->














## 2.1.1.1 ğŸ“š **ç†è®ºåˆ†æ**

### 2.1.1.1.1 **å‚æ•°ç±»å‹**

- è·¯ç”±å‚æ•°ï¼ˆPath Parameterï¼‰ï¼šURLè·¯å¾„ä¸­çš„å˜é‡ï¼Œå¦‚`/user/:id`
- æŸ¥è¯¢å‚æ•°ï¼ˆQuery Parameterï¼‰ï¼šURLä¸­çš„`?key=value`å¯¹ï¼Œå¦‚`/search?q=go`
- è¡¨å•å‚æ•°ï¼ˆForm Parameterï¼‰ï¼šè¡¨å•æäº¤çš„é”®å€¼å¯¹ï¼Œå¸¸ç”¨äº`application/x-www-form-urlencoded`æˆ–`multipart/form-data`
- JSONå‚æ•°ï¼ˆBody JSONï¼‰ï¼šè¯·æ±‚ä½“ä¸ºJSONæ ¼å¼ï¼Œå¸¸ç”¨äºAPI

### 2.1.1.1.2 **å‚æ•°ç»‘å®šä¸æ ¡éªŒ**

- ç»“æ„ä½“ç»‘å®šï¼šå°†è¯·æ±‚å‚æ•°è‡ªåŠ¨æ˜ å°„åˆ°ç»“æ„ä½“å­—æ®µ
- æ ¡éªŒï¼šç»“åˆæ ¡éªŒåº“ï¼ˆå¦‚validatorï¼‰å®ç°å¿…å¡«ã€æ ¼å¼ã€èŒƒå›´ç­‰æ ¡éªŒ

## 2.1.1.2 ğŸ’» **ä»£ç ç¤ºä¾‹**

### 2.1.1.2.1 **æ ‡å‡†åº“å‚æ•°è·å–**

```go
package main
import (
    "fmt"
    "net/http"
)
func handler(w http.ResponseWriter, r *http.Request) {
    // æŸ¥è¯¢å‚æ•°
    q := r.URL.Query().Get("q")
    // è¡¨å•å‚æ•°
    r.ParseForm()
    name := r.FormValue("name")
    fmt.Fprintf(w, "q=%s, name=%s", q, name)
}
func main() {
    http.HandleFunc("/", handler)
    http.ListenAndServe(":8080", nil)
}
```

### 2.1.1.2.2 **Ginå‚æ•°ç»‘å®šä¸æ ¡éªŒ**

```go
package main
import (
    "github.com/gin-gonic/gin"
    "github.com/go-playground/validator/v10"
)
type User struct {
    Name string `json:"name" binding:"required"`
    Age  int    `json:"age" binding:"gte=0,lte=150"`
}
func main() {
    r := gin.Default()
    r.POST("/user", func(c *gin.Context) {
        var user User
        if err := c.ShouldBindJSON(&user); err != nil {
            c.JSON(400, gin.H{"error": err.Error()})
            return
        }
        c.JSON(200, user)
    })
    r.Run(":8080")
}
```

### 2.1.1.2.3 **Echoå‚æ•°ç»‘å®šä¸æ ¡éªŒ**

```go
package main
import (
    "github.com/labstack/echo/v4"
    "net/http"
)
type User struct {
    Name string `json:"name" form:"name" query:"name" validate:"required"`
    Age  int    `json:"age" form:"age" query:"age" validate:"gte=0,lte=150"`
}
func main() {
    e := echo.New()
    e.POST("/user", func(c echo.Context) error {
        u := new(User)
        if err := c.Bind(u); err != nil {
            return err
        }
        return c.JSON(http.StatusOK, u)
    })
    e.Logger.Fatal(e.Start(":8080"))
}
```

### 2.1.1.2.4 **Fiberå‚æ•°ç»‘å®šä¸æ ¡éªŒ**

```go
package main
import (
    "github.com/gofiber/fiber/v2"
)
type User struct {
    Name string `json:"name"`
    Age  int    `json:"age"`
}
func main() {
    app := fiber.New()
    app.Post("/user", func(c *fiber.Ctx) error {
        u := new(User)
        if err := c.BodyParser(u); err != nil {
            return err
        }
        return c.JSON(u)
    })
    app.Listen(":8080")
}
```

## 2.1.1.3 ğŸ§ª **æµ‹è¯•ä»£ç **

```go
package main
import (
    "net/http"
    "net/http/httptest"
    "testing"
)
func TestQueryParam(t *testing.T) {
    req := httptest.NewRequest("GET", "/?q=test", nil)
    w := httptest.NewRecorder()
    http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
        q := r.URL.Query().Get("q")
        w.Write([]byte(q))
    }).ServeHTTP(w, req)
    if w.Body.String() != "test" {
        t.Errorf("unexpected: %s", w.Body.String())
    }
}
```

## 2.1.1.4 ğŸ¯ **æœ€ä½³å®è·µ**

- ä¼˜å…ˆç”¨ç»“æ„ä½“ç»‘å®šå‚æ•°ï¼Œä¾¿äºæ ¡éªŒå’Œç»´æŠ¤
- å¿…å¡«ã€æ ¼å¼ã€èŒƒå›´ç­‰æ ¡éªŒå»ºè®®ç”¨æ ¡éªŒåº“å®ç°
- å¯¹ç”¨æˆ·è¾“å…¥åšå®‰å…¨è¿‡æ»¤ï¼Œé˜²æ­¢æ³¨å…¥æ”»å‡»
- é”™è¯¯å“åº”å»ºè®®ç»Ÿä¸€JSONæ ¼å¼

## 2.1.1.5 ğŸ” **å¸¸è§é—®é¢˜**

- Q: è·¯ç”±å‚æ•°å’ŒæŸ¥è¯¢å‚æ•°æœ‰ä½•åŒºåˆ«ï¼Ÿ
  A: è·¯ç”±å‚æ•°åœ¨URLè·¯å¾„ï¼ŒæŸ¥è¯¢å‚æ•°åœ¨?åé¢
- Q: å¦‚ä½•å¤„ç†å¤šå€¼å‚æ•°ï¼Ÿ
  A: ç”¨`r.URL.Query()["key"]`è·å–åˆ‡ç‰‡
- Q: å¦‚ä½•å¤„ç†å¤æ‚åµŒå¥—å‚æ•°ï¼Ÿ
  A: ç»“æ„ä½“åµŒå¥—+æ ‡ç­¾æ˜ å°„

## 2.1.1.6 ğŸ“š **æ‰©å±•é˜…è¯»**

- [Ginå‚æ•°ç»‘å®šæ–‡æ¡£](https://gin-gonic.com/docs/examples/binding-and-validation/)
- [Echoå‚æ•°ç»‘å®šæ–‡æ¡£](https://echo.labstack.com/guide/request/)
- [Fiberå‚æ•°ç»‘å®šæ–‡æ¡£](https://docs.gofiber.io/guide/request)
- [Go validatoråº“](https://github.com/go-playground/validator)

---

**æ–‡æ¡£ç»´æŠ¤è€…**: AI Assistant  
**æœ€åæ›´æ–°**: 2024å¹´6æœˆ27æ—¥  
**æ–‡æ¡£çŠ¶æ€**: å®Œæˆ
