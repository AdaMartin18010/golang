# 📋 内容归档计划

**创建日期**: 2025-11-11
**目标**: 将不符合最新、最成熟 Go 技术栈实践的内容归档

---

## 🎯 归档原则

### 保留标准

✅ **保留**以下内容：

- 符合 Go 社区最佳实践的内容
- 使用成熟、标准化技术栈的内容
- 遵循 Clean Architecture / Hexagonal Architecture 的内容
- 使用标准项目布局的内容
- 符合 RESTful API 设计规范的内容
- 使用成熟 ORM（GORM/Ent）的内容

### 归档标准

❌ **归档**以下内容：

- 不符合标准项目布局的内容
- 使用过时或不成熟技术的内容
- 缺少架构设计的内容
- 硬编码配置的内容
- 缺少错误处理的内容
- 不符合最佳实践的内容

---

## 📦 归档清单

### 1. 文档归档

#### 需要归档的文档

```
archive/outdated-docs/
├── 形式化理论文档（过于学术化，不符合实用导向）
│   ├── docs/fundamentals/language/00-Go-1.25.3形式化理论体系/
│   └── 说明: 保留核心概念，归档详细的形式化证明
│
├── 过时的架构文档
│   ├── docs/advanced/architecture-practices/（部分）
│   └── 说明: 保留符合最佳实践的部分，归档过时内容
│
└── 版本号错误的文档
    ├── 所有包含 "Go 1.25.3" 但实际不存在的文档
    └── 说明: 修正版本号后，归档旧版本文档
```

#### 保留的文档

```
保留以下文档（符合最佳实践）:
├── docs/development/web/（RESTful API 设计）
├── docs/development/database/（GORM 使用）
├── docs/practices/engineering/（工程实践）
└── docs/advanced/architecture/（设计模式）
```

---

### 2. 代码归档

#### 需要归档的代码

```
archive/outdated-code/
├── examples/complete-microservice/
│   └── 说明: 缺少 Clean Architecture，需要重构
│
├── examples/advanced/ai-agent/
│   └── 说明: 保留核心功能，归档不符合架构的部分
│
└── pkg/（部分）
    └── 说明: 保留符合标准的包，归档不符合的部分
```

#### 保留的代码

```
保留以下代码（符合最佳实践）:
├── pkg/concurrency/（并发模式）
├── pkg/memory/（内存管理）
└── examples/concurrency/（并发示例）
```

---

### 3. 项目结构归档

#### 当前结构问题

```
❌ 当前结构（需要归档）
golang/
├── examples/          # 应该移到 cmd/ 或 internal/
├── pkg/              # 部分内容应该移到 internal/
└── docs/             # 保留，但需要整理

✅ 目标结构（符合标准）
golang/
├── cmd/              # 主程序入口
├── internal/         # 私有应用代码
├── pkg/              # 公共库（仅可被外部引用）
├── api/              # API 定义
├── configs/          # 配置文件
└── docs/             # 文档
```

---

## 🔄 归档执行计划

### Phase 1: 文档归档（1周）

1. **创建归档目录**

   ```bash
   mkdir -p archive/outdated-docs/2025-11-11
   mkdir -p archive/outdated-code/2025-11-11
   ```

2. **归档形式化理论文档**
   - 移动 `docs/fundamentals/language/00-Go-1.25.3形式化理论体系/` 到归档目录
   - 保留核心概念文档，归档详细证明

3. **归档版本号错误的文档**
   - 查找所有包含 "Go 1.25.3" 的文档
   - 修正版本号后，归档旧版本

### Phase 2: 代码归档（1-2周）

1. **归档不符合架构的代码**
   - 移动 `examples/complete-microservice/` 到归档目录
   - 重构后重新实现

2. **归档过时的示例**
   - 检查所有示例代码
   - 归档不符合最佳实践的部分

### Phase 3: 结构重构（2-3周）

1. **创建新结构**
   - 创建 `cmd/`、`internal/`、`api/` 目录
   - 迁移代码到新结构

2. **更新引用**
   - 更新所有导入路径
   - 更新文档引用

---

## 📝 归档记录

### 归档日志模板

```markdown
## 归档记录 - YYYY-MM-DD

### 归档内容
- 文件/目录: `path/to/file`
- 原因: 不符合最佳实践 / 版本号错误 / 架构过时
- 替代方案: 新的实现方式

### 归档位置
- 归档到: `archive/outdated-*/YYYY-MM-DD/`

### 后续行动
- [ ] 重构新实现
- [ ] 更新文档
- [ ] 验证新实现
```

---

## 🎯 归档后目标

### 项目结构

```
golang/
├── cmd/                      # 主程序入口
│   ├── server/              # HTTP 服务器
│   └── cli/                 # CLI 工具
│
├── internal/                 # 私有应用代码
│   ├── domain/              # 领域模型
│   ├── service/             # 业务逻辑
│   ├── repository/          # 数据访问
│   ├── handler/             # HTTP 处理器
│   └── config/              # 配置管理
│
├── pkg/                      # 公共库
│   ├── concurrency/         # 并发工具
│   ├── memory/              # 内存管理
│   └── observability/       # 可观测性
│
├── api/                      # API 定义
│   └── openapi.yaml         # OpenAPI 规范
│
├── configs/                  # 配置文件
│   ├── config.yaml
│   └── config.dev.yaml
│
├── migrations/               # 数据库迁移
│   └── *.sql
│
├── deployments/              # 部署配置
│   ├── docker/
│   └── k8s/
│
└── docs/                     # 文档
    ├── architecture/         # 架构文档
    ├── api/                  # API 文档
    └── guides/               # 开发指南
```

### 技术栈

```
✅ 使用成熟技术栈:
- Web 框架: Gin / Echo
- ORM: GORM / Ent
- 配置: Viper
- DI: Wire
- 日志: slog / zerolog
- API 文档: OpenAPI / Swagger
- 测试: testing + testify
- 数据库迁移: golang-migrate
```

---

## 📊 归档统计

### 预计归档内容

| 类别 | 数量 | 大小 | 说明 |
|------|------|------|------|
| 文档 | ~50 篇 | ~500KB | 形式化理论、过时架构文档 |
| 代码 | ~20 个文件 | ~100KB | 不符合架构的代码 |
| 示例 | ~10 个 | ~50KB | 过时的示例代码 |

### 归档后保留内容

| 类别 | 数量 | 说明 |
|------|------|------|
| 文档 | ~200 篇 | 符合最佳实践的文档 |
| 代码 | ~100 个文件 | 符合架构的代码 |
| 示例 | ~30 个 | 标准化的示例 |

---

## 🔗 相关文档

- [项目批判性评价与改进计划](./📊-项目批判性评价与改进计划-2025.md)
- [Go 标准项目布局](https://github.com/golang-standards/project-layout)
- [Clean Architecture](https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html)

---

**创建日期**: 2025-11-11
**执行状态**: 待执行
**负责人**: 待指定
