# 📐 文档格式、目录、结构梳理计划

**制定日期**: 2025年11月11日
**执行顺序**: 格式 → 目录 → 结构 → 内容语义 → 文件夹结构 → 链接
**执行范围**: `docs/` 目录（528个Markdown文件）

---

## 🎯 执行顺序

### 阶段1: 格式、目录、结构梳理 ⭐ 当前阶段

**目标**: 统一文档格式，规范目录结构，优化文档组织

**任务**:
1. 文档格式统一
2. 目录（TOC）格式规范
3. 文档结构标准化

### 阶段2: 内容语义梳理

**目标**: 优化文档内容，提升语义清晰度

**任务**:
1. 内容语义检查
2. 术语统一
3. 表达优化

### 阶段3: 目录文件夹结构梳理

**目标**: 优化文件夹组织结构

**任务**:
1. 文件夹命名规范
2. 目录层级优化
3. 文件组织合理化

### 阶段4: 链接梳理（最后执行）

**目标**: 修复所有链接问题

**任务**:
1. 内部链接修复
2. 外部链接验证
3. 链接格式统一

---

## 📋 阶段1: 格式、目录、结构梳理

### 1.1 文档格式统一

#### 当前问题

**元数据格式**:
- ✅ 已完成：165个文件已标准化
- ⚠️ 部分文件仍有额外字段（字数、适用人群等）

**标题格式**:
- ⚠️ 部分标题包含上下文前缀
- ⚠️ 标题编号不统一

**目录格式**:
- ⚠️ 目录生成方式不统一
- ⚠️ 目录格式不一致

#### 标准格式

**元数据标准格式**:
```markdown
**版本**: v1.0
**更新日期**: 2025-11-11
**适用于**: Go 1.25.3
```

**标题标准格式**:
```markdown
# 文档标题（不含上下文前缀）

## 1. 一级章节
### 1.1 二级章节
#### 1.1.1 三级章节
```

**目录标准格式**:
```markdown
## 📋 目录

- [文档标题](#文档标题)
  - [1. 一级章节](#1-一级章节)
    - [1.1 二级章节](#11-二级章节)
```

#### 修复计划

1. **清理额外元数据字段**
   - 移除"字数"、"适用人群"等非标准字段
   - 统一为标准三行格式

2. **统一标题格式**
   - 移除上下文前缀
   - 统一编号格式

3. **规范目录格式**
   - 统一目录标题为 `## 📋 目录`
   - 统一目录生成规则

---

### 1.2 目录（TOC）格式规范

#### 当前问题

**目录生成方式**:
- 手动编写
- 自动生成（工具不一致）
- 混合方式

**目录格式**:
- 格式A: 简单列表
- 格式B: 嵌套列表
- 格式C: 带编号列表

#### 标准目录格式

```markdown
## 📋 目录

- [文档标题](#文档标题)
  - [1. 一级章节](#1-一级章节)
    - [1.1 二级章节](#11-二级章节)
      - [1.1.1 三级章节](#111-三级章节)
```

**规则**:
- 使用 `## 📋 目录` 作为标题
- 使用嵌套列表格式
- 链接使用GitHub兼容的anchor

#### 修复计划

1. **统一目录标题**
   - 所有目录使用 `## 📋 目录`

2. **统一目录格式**
   - 使用嵌套列表
   - 统一缩进规则

3. **规范目录生成**
   - 建立目录生成规范
   - 创建目录生成工具

---

### 1.3 文档结构标准化

#### 当前问题

**文档结构**:
- 部分文档缺少目录
- 部分文档结构不完整
- 章节组织不统一

**标准文档结构**:
```markdown
# 文档标题

**版本**: v1.0
**更新日期**: 2025-11-11
**适用于**: Go 1.25.3

---

## 📋 目录

- [文档标题](#文档标题)
  - [1. 章节1](#1-章节1)
  - [2. 章节2](#2-章节2)

---

## 1. 章节1

内容...

## 2. 章节2

内容...

---

## 📚 参考资源

- [相关文档](./related.md)
```

#### 修复计划

1. **补充缺失目录**
   - 为所有文档添加目录
   - 确保目录完整

2. **统一文档结构**
   - 元数据 → 目录 → 内容 → 参考资源
   - 统一章节组织

3. **优化章节组织**
   - 统一章节编号
   - 优化章节层级

---

## 📊 问题统计

### 格式问题

| 问题类型 | 数量 | 优先级 |
|---------|------|--------|
| 元数据额外字段 | ~50个文件 | P1 |
| 标题格式不统一 | ~130个文件 | P2 |
| 目录格式不一致 | ~200个文件 | P2 |

### 目录问题

| 问题类型 | 数量 | 优先级 |
|---------|------|--------|
| 目录标题不统一 | ~100个文件 | P1 |
| 目录格式不一致 | ~200个文件 | P2 |
| 目录生成方式不统一 | 全部 | P2 |

### 结构问题

| 问题类型 | 数量 | 优先级 |
|---------|------|--------|
| 缺少目录 | ~50个文件 | P1 |
| 结构不完整 | ~100个文件 | P2 |
| 章节组织不统一 | ~200个文件 | P2 |

---

## 🔧 修复工具

### 需要创建的脚本

1. **clean-metadata.ps1** - 清理额外元数据字段
2. **standardize-titles.ps1** - 统一标题格式
3. **standardize-toc.ps1** - 统一目录格式
4. **add-missing-toc.ps1** - 补充缺失目录
5. **standardize-structure.ps1** - 统一文档结构

---

## 📋 执行计划

### Step 1: 清理元数据（优先级：P1）

**任务**: 移除额外元数据字段，统一为标准格式

**预计工作量**: 50个文件，1-2小时

### Step 2: 统一目录格式（优先级：P1）

**任务**: 统一目录标题和格式

**预计工作量**: 200个文件，2-3小时

### Step 3: 补充缺失目录（优先级：P1）

**任务**: 为缺少目录的文档添加目录

**预计工作量**: 50个文件，1-2小时

### Step 4: 统一标题格式（优先级：P2）

**任务**: 统一标题格式，移除上下文前缀

**预计工作量**: 130个文件，2-3小时

### Step 5: 统一文档结构（优先级：P2）

**任务**: 统一文档结构，优化章节组织

**预计工作量**: 200个文件，3-4小时

---

## 🎯 预期效果

### 修复后

- ✅ 所有文档使用统一的元数据格式
- ✅ 所有目录格式统一规范
- ✅ 所有文档结构完整统一
- ✅ 标题格式规范一致

---

**计划制定时间**: 2025年11月11日
**预计完成时间**: 1-2天
**执行状态**: 🟢 准备执行
