server:
  host: "0.0.0.0"
  port: 8080
  read_timeout: 30s
  write_timeout: 30s
  idle_timeout: 120s

database:
  type: "postgres"  # postgres, sqlite3
  host: "localhost"
  port: 5432
  user: "user"
  password: "password"
  database: "golang"
  ssl_mode: "disable"
  max_open_conns: 25
  max_idle_conns: 5
  # SQLite3 配置（当 type 为 sqlite3 时使用）
  # dsn: "file:app.db?cache=shared&mode=rwc&_journal_mode=WAL"

redis:
  addr: "localhost:6379"
  password: ""
  db: 0
  pool_size: 10
  min_idle_conns: 5
  dial_timeout: 5s
  read_timeout: 3s
  write_timeout: 3s

kafka:
  brokers:
    - "localhost:9092"
  consumer_group: "app-consumer"
  timeout: 10s

mqtt:
  broker: "tcp://localhost:1883"
  client_id: "app-client"
  username: ""
  password: ""
  timeout: 10s

otlp:
  endpoint: "localhost:4317"
  insecure: true
  timeout: 10s
  service_name: "app"
  service_version: "1.0.0"

observability:
  otlp:
    endpoint: "localhost:4317"
    insecure: true
    timeout: 10s
    service_name: "app"
    service_version: "1.0.0"
  system:
    enabled: true
    collect_interval: 5s
    enable_disk_monitor: true
    enable_load_monitor: true
    enable_apm_monitor: true
    rate_limit:
      enabled: true
      limit: 100
      window: 1s
    health_thresholds:
      max_memory_usage: 90.0
      max_cpu_usage: 95.0
      max_goroutines: 10000
    alerts:
      - id: "cpu-high"
        name: "CPU Usage High"
        metric_name: "system.cpu.usage"
        condition: "gt"
        threshold: 80.0
        level: "warning"
        enabled: true
        duration: 5m
        cooldown: 10m
      - id: "memory-high"
        name: "Memory Usage High"
        metric_name: "system.memory.usage"
        condition: "gt"
        threshold: 90.0
        level: "critical"
        enabled: true
        duration: 5m
        cooldown: 10m
      - id: "disk-high"
        name: "Disk Usage High"
        metric_name: "system.disk.usage"
        condition: "gt"
        threshold: 85.0
        level: "warning"
        enabled: true
        duration: 5m
        cooldown: 10m

jwt:
  secret_key: "your-secret-key-change-in-production"
  signing_method: "HS256"
  access_token_ttl: 15m
  refresh_token_ttl: 168h  # 7 days

logging:
  level: "info"  # debug, info, warn, error
  format: "json"  # json, text
  output: "stdout"  # stdout, file
  output_path: "logs/app.log"
  rotation:
    max_size: 100      # 单个日志文件最大大小（MB）
    max_backups: 10    # 保留的旧日志文件数量
    max_age: 30        # 保留旧日志文件的天数
    compress: true     # 是否压缩轮转后的旧日志文件

temporal:
  address: "localhost:7233"
  namespace: "default"
  task_queue: "default"
  workers: 10
  max_concurrent: 100
