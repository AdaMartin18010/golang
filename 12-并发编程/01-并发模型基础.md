# 12.1.1 Go并发模型基础

## 概述

Go语言的并发模型基于CSP（Communicating Sequential Processes）理论，通过"不要通过共享内存来通信，而要通过通信来共享内存"的设计哲学，提供了一种优雅且高效的并发编程方式。

## 核心概念

### 1. Goroutine

Goroutine是Go语言的轻量级线程，由Go运行时管理。

```go
package main

import (
    "fmt"
    "time"
)

func main() {
    // 启动一个goroutine
    go func() {
        fmt.Println("Hello from goroutine!")
    }()
    
    // 主goroutine等待
    time.Sleep(1 * time.Second)
    fmt.Println("Hello from main!")
}
```

### 2. Channel

Channel是Go语言中用于goroutine间通信的管道。

```go
package main

import "fmt"

func main() {
    // 创建channel
    ch := make(chan string)
    
    // 在goroutine中发送数据
    go func() {
        ch <- "Hello from channel!"
    }()
    
    // 接收数据
    msg := <-ch
    fmt.Println(msg)
}
```

### 3. Select语句

Select语句用于处理多个channel操作。

```go
package main

import (
    "fmt"
    "time"
)

func main() {
    ch1 := make(chan string)
    ch2 := make(chan string)
    
    go func() {
        time.Sleep(1 * time.Second)
        ch1 <- "from ch1"
    }()
    
    go func() {
        time.Sleep(2 * time.Second)
        ch2 <- "from ch2"
    }()
    
    for i := 0; i < 2; i++ {
        select {
        case msg1 := <-ch1:
            fmt.Println(msg1)
        case msg2 := <-ch2:
            fmt.Println(msg2)
        }
    }
}
```

## 并发模型特点

1. **轻量级**: Goroutine创建成本极低
2. **高效调度**: GPM调度器支持百万级goroutine
3. **类型安全**: Channel提供类型安全的通信
4. **简洁语法**: 并发编程语法简洁直观

## 最佳实践

1. 优先使用channel进行通信
2. 避免共享内存的竞态条件
3. 合理使用context进行超时控制
4. 注意goroutine的生命周期管理

---

**下一节**: [02-Goroutine基础](02-Goroutine基础.md)
