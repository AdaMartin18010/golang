# ❓ 文档重构常见问题 FAQ

> **版本**: v1.0  
> **更新**: 2025-10-22

---

## 📋 目录

- [❓ 文档重构常见问题 FAQ](#-文档重构常见问题-faq)
  - [📋 目录](#-目录)
  - [📌 准备阶段](#-准备阶段)
    - [Q1: 重构需要多长时间？](#q1-重构需要多长时间)
    - [Q2: 需要多少人参与？](#q2-需要多少人参与)
    - [Q3: 需要准备什么环境？](#q3-需要准备什么环境)
    - [Q4: 需要备份吗？](#q4-需要备份吗)
  - [🔧 脚本使用](#-脚本使用)
    - [Q5: 脚本提示"无法执行"怎么办？](#q5-脚本提示无法执行怎么办)
    - [Q6: DryRun模式是什么？](#q6-dryrun模式是什么)
    - [Q7: 脚本执行很慢怎么办？](#q7-脚本执行很慢怎么办)
    - [Q8: 如何中断脚本执行？](#q8-如何中断脚本执行)
  - [📂 内容迁移](#-内容迁移)
    - [Q9: 哪些内容需要直接迁移？](#q9-哪些内容需要直接迁移)
    - [Q10: 哪些内容需要重组？](#q10-哪些内容需要重组)
    - [Q11: 如何处理重复内容？](#q11-如何处理重复内容)
    - [Q12: 链接失效怎么办？](#q12-链接失效怎么办)
  - [✅ 质量问题](#-质量问题)
    - [Q13: 如何判断文档质量？](#q13-如何判断文档质量)
    - [Q14: 代码示例不能运行怎么办？](#q14-代码示例不能运行怎么办)
    - [Q15: 如何补充元信息？](#q15-如何补充元信息)
  - [🔧 技术问题](#-技术问题)
    - [Q16: 如何测试迁移后的代码？](#q16-如何测试迁移后的代码)
    - [Q17: 如何处理大文件？](#q17-如何处理大文件)
    - [Q18: 如何优化图片？](#q18-如何优化图片)
  - [🤝 协作问题](#-协作问题)
    - [Q19: 如何避免冲突？](#q19-如何避免冲突)
    - [Q20: 如何进行代码审查？](#q20-如何进行代码审查)
    - [Q21: 遇到分歧怎么办？](#q21-遇到分歧怎么办)
  - [📞 获取帮助](#-获取帮助)
    - [Q22: 还有其他问题怎么办？](#q22-还有其他问题怎么办)
  - [📚 相关资源](#-相关资源)

---

## 📌 准备阶段

### Q1: 重构需要多长时间？

**A**: 根据计划，完整重构需要 **12-18天**：

- Phase 1-2: 7天（准备+迁移）
- Phase 3: 7天（优化）
- Phase 4-6: 4天（索引+清理+验收）

如果资源充足，可以压缩到12天；如果人手不足，可能需要18天。

---

### Q2: 需要多少人参与？

**A**: 推荐配置：

**核心团队**（必须）:

- 项目负责人 × 1
- 内容负责人 × 1
- 技术负责人 × 1
- 质量负责人 × 1

**扩展团队**（推荐）:

- 内容编辑 × 2-3
- 技术审核 × 1-2
- 测试人员 × 1

**最小配置**: 2人（但会延长到20-25天）

---

### Q3: 需要准备什么环境？

**A**: 必需工具：

```powershell
# 检查PowerShell版本（需要5.1+）
$PSVersionTable.PSVersion

# 检查Git
git --version

# 推荐安装
- VS Code (编辑器)
- lychee (链接检查)
- Go 1.25+ (代码测试)
```

**可选工具**:

- Prettier (格式化)
- golangci-lint (代码检查)
- Markdown Preview Enhanced (预览)

---

### Q4: 需要备份吗？

**A**: **必须备份！** 这是最重要的准备工作。

```powershell
# 执行备份
.\scripts\backup_current_docs.ps1 -Compress

# 验证备份
Test-Path "docs-backup-*"
```

推荐至少 **3个备份**:

1. 本地备份（脚本自动）
2. 云端备份（手动上传）
3. Git历史（提交前状态）

---

## 🔧 脚本使用

### Q5: 脚本提示"无法执行"怎么办？

**A**: 这是PowerShell执行策略限制。

**解决方案**:

```powershell
# 方案1: 临时允许（推荐）
Set-ExecutionPolicy -Scope Process -ExecutionPolicy Bypass

# 方案2: 永久允许
Set-ExecutionPolicy RemoteSigned

# 方案3: 单次执行
powershell -ExecutionPolicy Bypass -File .\scripts\backup_current_docs.ps1
```

---

### Q6: DryRun模式是什么？

**A**: DryRun = 预览模式，只显示会做什么，不实际执行。

**使用场景**:

- 第一次运行脚本前
- 不确定会产生什么效果
- 想验证参数是否正确

```powershell
# 预览（不执行）
.\scripts\create_new_structure.ps1 -DryRun

# 确认后执行
.\scripts\create_new_structure.ps1
```

---

### Q7: 脚本执行很慢怎么办？

**A**: 可能原因和解决方案：

**原因1**: 文件太多

```powershell
# 解决: 使用过滤
.\scripts\check_quality.ps1 -DocsDir "docs/01-语言基础"
```

**原因2**: 磁盘性能差

```powershell
# 解决: 输出到不同磁盘
.\scripts\backup_current_docs.ps1 -BackupDir "D:\backup"
```

**原因3**: 杀毒软件拦截

```powershell
# 解决: 临时禁用或添加信任
```

---

### Q8: 如何中断脚本执行？

**A**: 按 `Ctrl + C` 安全中断。

脚本会：

- 停止当前操作
- 显示已完成的进度
- 不会损坏已处理的文件

如需恢复，重新运行即可（会跳过已完成的部分）。

---

## 📂 内容迁移

### Q9: 哪些内容需要直接迁移？

**A**: 以下模块可以直接迁移（改名即可）：

- ✅ 01-语言基础 → 01-语言基础
- ✅ 05-微服务 → 05-微服务架构
- ✅ 06-云原生 → 06-云原生与容器
- ✅ 07-性能优化 → 07-性能优化
- ✅ 08-架构设计 → 08-架构设计
- ✅ 09-工程实践 → 09-工程实践

这些模块内容质量好，结构清晰。

---

### Q10: 哪些内容需要重组？

**A**: 以下模块需要重组：

**02-Web开发** → **03-Web开发**

- 需要拆分成: 基础、框架、实战
- 补充: RESTful、GraphQL、WebSocket

**10-进阶专题** → **11-高级专题**

- 需要分类: 云原生、应用交付、数据集成
- 补充: 新增20+主题

**11-行业应用** → **12-行业应用**

- 需要扩展: 金融、游戏、AI、IoT
- 补充: 实战案例

---

### Q11: 如何处理重复内容？

**A**: 发现重复时的处理策略：

1. **评估质量**: 比较两份内容的质量
2. **保留最佳**: 选择质量最高的版本
3. **合并优点**: 如果各有优势，合并精华
4. **标记废弃**: 在旧内容添加"已迁移"标记
5. **添加链接**: 指向新位置

```markdown
> ⚠️ **已迁移**: 本内容已迁移到 [新位置](../03-Web开发/xxx.md)
```

---

### Q12: 链接失效怎么办？

**A**: 分步骤处理：

**Step 1**: 运行检查

```powershell
.\scripts\fix_links.ps1
```

**Step 2**: 查看报告

```powershell
# 查看生成的报告
code reports/broken-links-*.md
```

**Step 3**: 修复链接

- 自动修复: `.\scripts\fix_links.ps1 -AutoFix`
- 手动修复: 根据报告逐个修改

**Step 4**: 验证修复

```powershell
lychee "docs/**/*.md"
```

---

## ✅ 质量问题

### Q13: 如何判断文档质量？

**A**: 使用多维度评估：

| 维度 | 优秀标准 | 评估方法 |
|------|---------|---------|
| **完整性** | >1000行 | 字数统计 |
| **代码率** | >30% | 代码块占比 |
| **结构** | 3-5级标题 | 结构分析 |
| **链接** | 5+外链 | 链接统计 |
| **示例** | 3+完整示例 | 手动评估 |
| **更新** | <6个月 | 元信息 |

**快速检查**:

```powershell
.\scripts\check_quality.ps1
```

---

### Q14: 代码示例不能运行怎么办？

**A**: 逐步排查：

**检查1**: Package声明

```go
// ✓ 正确
package main

// ✗ 错误
package
```

**检查2**: Import语句

```go
// ✓ 正确
import (
    "fmt"
    "time"
)

// ✗ 错误 - 缺少import
```

**检查3**: Main函数

```go
// ✓ 正确 - 可直接运行
func main() {
    // ...
}

// ✗ 错误 - 只有函数定义
func Example() {
    // ...
}
```

**修复模板**:

```go
package main

import "fmt"

// ExampleFunc 示例函数
func ExampleFunc() {
    fmt.Println("Hello")
}

func main() {
    ExampleFunc()
}
```

---

### Q15: 如何补充元信息？

**A**: 每个文档必须包含：

```markdown
---
作者: [姓名]
创建日期: YYYY-MM-DD
最后更新: YYYY-MM-DD
版本: vX.Y
标签: [go, web, 框架]
难度: 初级/中级/高级
预计阅读: XX分钟
---
```

**快速添加**:

1. 复制模板
2. 填写信息
3. 放在文档顶部（标题前）

---

## 🔧 技术问题

### Q16: 如何测试迁移后的代码？

**A**: 分层测试策略：

**Level 1: 编译测试**

```powershell
# 测试所有.go文件能否编译
Get-ChildItem -Path "docs" -Filter "*.go" -Recurse | ForEach-Object {
    go build $_.FullName
}
```

**Level 2: 单元测试**

```powershell
# 运行测试文件
go test ./...
```

**Level 3: 示例测试**

```go
// 在文档中添加可测试示例
func ExampleHello() {
    fmt.Println("Hello")
    // Output: Hello
}
```

---

### Q17: 如何处理大文件？

**A**: 大文件（>2000行）应该拆分：

**策略1**: 按章节拆分

```text
原文件: Web开发完全指南.md (3000行)
拆分后:
  ├─ 01-HTTP基础.md (500行)
  ├─ 02-Gin框架.md (800行)
  ├─ 03-中间件.md (600行)
  └─ 04-实战案例.md (1100行)
```

**策略2**: 按难度拆分

```text
原文件: 并发编程.md (2500行)
拆分后:
  ├─ 01-基础篇.md (800行)
  ├─ 02-进阶篇.md (900行)
  └─ 03-高级篇.md (800行)
```

---

### Q18: 如何优化图片？

**A**: 图片优化建议：

1. **格式选择**:
   - 图表: SVG（矢量，推荐）
   - 截图: PNG（无损）
   - 照片: JPG（有损，体积小）

2. **尺寸控制**:
   - 最大宽度: 800px
   - 最大高度: 600px
   - 单个文件: <500KB

3. **存放位置**:

    ```text
    docs/
    ├─ images/
    │  ├─ 01-语言基础/
    │  ├─ 03-Web开发/
    │  └─ ...
    ```

4. **引用方式**:

```markdown
![架构图](../images/03-Web开发/architecture.svg)
```

---

## 🤝 协作问题

### Q19: 如何避免冲突？

**A**: 遵循协作规范：

**规则1**: 分支隔离

```bash
# 每人在自己分支工作
git checkout -b feature/01-语言基础-迁移
```

**规则2**: 模块分工

```text
张三: 01-语言基础, 05-微服务
李四: 03-Web开发, 06-云原生
王五: 11-高级专题, 12-行业应用
```

**规则3**: 及时同步

```bash
# 每天开始前拉取最新代码
git pull origin main

# 每天结束前推送本地修改
git push origin feature/xxx
```

**规则4**: 频繁提交

```bash
# 小步提交，而不是一次提交所有
git commit -m "完成: 语法基础章节迁移"
git commit -m "完成: 并发编程章节迁移"
```

---

### Q20: 如何进行代码审查？

**A**: 标准审查流程：

**Step 1**: 提交PR

```markdown
标题: [01-语言基础] 完成迁移和初步优化

变更说明:
- 迁移15个文档
- 修复12个失效链接
- 补充3个代码示例
- 统一格式规范

检查清单:
- [x] 代码可运行
- [x] 链接有效
- [x] 格式规范
- [x] 已自测
```

**Step 2**: 审查者检查

- 内容准确性 ✓
- 代码完整性 ✓
- 格式规范性 ✓
- 链接有效性 ✓

**Step 3**: 反馈修改

```markdown
## 审查意见

### 通过条件:
- ✅ 内容质量良好
- ✅ 代码可运行

### 需要修改:
1. 第50行代码缺少错误处理
2. 建议补充性能对比数据

### 建议改进:
- 可以添加更多实战案例
```

**Step 4**: 修改后合并

---

### Q21: 遇到分歧怎么办？

**A**: 分歧解决机制：

**Level 1**: 团队讨论（30分钟内解决）

- 各方陈述理由
- 对比优劣
- 投票决定

**Level 2**: 技术负责人裁决

- 超过30分钟未达成一致
- 技术负责人评估
- 做出最终决定

**Level 3**: 项目负责人介入

- 涉及重大方向调整
- 影响整体进度
- 需要资源协调

**原则**:

- 以项目目标为导向
- 以用户体验为优先
- 以技术合理性为基础

---

## 📞 获取帮助

### Q22: 还有其他问题怎么办？

**A**: 多种途径获取帮助：

1. **查阅文档**:
   - [完整分析报告](reports/2025-10-22-Golang文档全面分析与重构方案.md)
   - [风险管理指南](风险管理与问题排查指南.md)
   - [团队协作指南](团队协作指南.md)

2. **使用工具**:
   - 运行质量检查脚本
   - 查看问题排查手册
   - 参考成功案例

3. **寻求支持**:
   - 技术负责人
   - 项目经理
   - 团队讨论

4. **外部资源**:
   - GitHub Issues
   - 技术社区
   - 官方文档

---

## 📚 相关资源

- [完整分析报告](reports/2025-10-22-Golang文档全面分析与重构方案.md)
- [迁移检查清单](MIGRATION_CHECKLIST.md)
- [团队协作指南](团队协作指南.md)
- [风险管理指南](风险管理与问题排查指南.md)
- [快速参考卡](快速参考卡.md)

---

**维护**: 持续更新中  
**反馈**: 欢迎补充问题  
**版本**: v1.0  
**更新**: 2025-10-22
