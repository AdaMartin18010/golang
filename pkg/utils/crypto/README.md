# åŠ å¯†å·¥å…·

**ç‰ˆæœ¬**: v1.0
**æ›´æ–°æ—¥æœŸ**: 2025-11-11
**é€‚ç”¨äº**: Go 1.25.3

---

## ğŸ“‹ ç›®å½•

- [åŠ å¯†å·¥å…·](#åŠ å¯†å·¥å…·)
  - [ğŸ“‹ ç›®å½•](#-ç›®å½•)
  - [1. æ¦‚è¿°](#1-æ¦‚è¿°)
  - [2. åŠŸèƒ½ç‰¹æ€§](#2-åŠŸèƒ½ç‰¹æ€§)
    - [2.1 å¯†ç å“ˆå¸Œ](#21-å¯†ç å“ˆå¸Œ)
    - [2.2 AESåŠ å¯†](#22-aesåŠ å¯†)
    - [2.3 å¯†é’¥ç”Ÿæˆ](#23-å¯†é’¥ç”Ÿæˆ)
    - [2.4 å“ˆå¸Œå‡½æ•°](#24-å“ˆå¸Œå‡½æ•°)
    - [2.5 HMAC](#25-hmac)
    - [2.6 å¯†é’¥æ´¾ç”Ÿ](#26-å¯†é’¥æ´¾ç”Ÿ)
  - [3. ä½¿ç”¨ç¤ºä¾‹](#3-ä½¿ç”¨ç¤ºä¾‹)
    - [3.1 å¯†ç å“ˆå¸Œ](#31-å¯†ç å“ˆå¸Œ)
    - [3.2 AESåŠ å¯†](#32-aesåŠ å¯†)
    - [3.3 ä½¿ç”¨åŠ å¯†å™¨](#33-ä½¿ç”¨åŠ å¯†å™¨)
    - [3.4 å¯†é’¥æ´¾ç”Ÿ](#34-å¯†é’¥æ´¾ç”Ÿ)
  - [4. æœ€ä½³å®è·µ](#4-æœ€ä½³å®è·µ)
    - [4.1 å¯†ç å­˜å‚¨](#41-å¯†ç å­˜å‚¨)
    - [4.2 å¯†é’¥ç®¡ç†](#42-å¯†é’¥ç®¡ç†)
    - [4.3 åŠ å¯†ä½¿ç”¨](#43-åŠ å¯†ä½¿ç”¨)
    - [4.4 å¯†é’¥æ´¾ç”Ÿ](#44-å¯†é’¥æ´¾ç”Ÿ)

---

## 1. æ¦‚è¿°

åŠ å¯†å·¥å…·æä¾›äº†å¸¸ç”¨çš„åŠ å¯†å’Œå“ˆå¸ŒåŠŸèƒ½ï¼š

- âœ… **å¯†ç å“ˆå¸Œ**: bcryptå¯†ç å“ˆå¸Œå’ŒéªŒè¯
- âœ… **AESåŠ å¯†**: AES-256-GCMå¯¹ç§°åŠ å¯†
- âœ… **å¯†é’¥ç”Ÿæˆ**: éšæœºå¯†é’¥å’Œç›å€¼ç”Ÿæˆ
- âœ… **å“ˆå¸Œå‡½æ•°**: SHA256å“ˆå¸Œ
- âœ… **HMAC**: HMACè®¡ç®—
- âœ… **å¯†é’¥æ´¾ç”Ÿ**: PBKDF2å¯†é’¥æ´¾ç”Ÿ

---

## 2. åŠŸèƒ½ç‰¹æ€§

### 2.1 å¯†ç å“ˆå¸Œ

ä½¿ç”¨bcryptè¿›è¡Œå¯†ç å“ˆå¸Œï¼Œå®‰å…¨å¯é ã€‚

```go
hash, err := crypto.HashPassword("password123")
isValid := crypto.CheckPassword("password123", hash)
```

### 2.2 AESåŠ å¯†

AES-256-GCMæ¨¡å¼åŠ å¯†ï¼Œæä¾›è®¤è¯å’ŒåŠ å¯†ã€‚

```go
key, _ := crypto.GenerateAESKey()
ciphertext, _ := crypto.AESEncrypt("plaintext", key)
plaintext, _ := crypto.AESDecrypt(ciphertext, key)
```

### 2.3 å¯†é’¥ç”Ÿæˆ

ç”Ÿæˆéšæœºå¯†é’¥å’Œç›å€¼ã€‚

```go
key, _ := crypto.GenerateAESKey()
salt, _ := crypto.GenerateSalt(16)
```

### 2.4 å“ˆå¸Œå‡½æ•°

SHA256å“ˆå¸Œè®¡ç®—ã€‚

```go
hash := crypto.SHA256Hash("data")
```

### 2.5 HMAC

HMACè®¡ç®—ï¼ˆä½¿ç”¨SHA256ï¼‰ã€‚

```go
hmac := crypto.HMAC("key", "message")
```

### 2.6 å¯†é’¥æ´¾ç”Ÿ

ä»å¯†ç æ´¾ç”Ÿå¯†é’¥ï¼ˆPBKDF2ï¼‰ã€‚

```go
key := crypto.DeriveKey("password", "salt", 10000)
```

---

## 3. ä½¿ç”¨ç¤ºä¾‹

### 3.1 å¯†ç å“ˆå¸Œ

```go
import "github.com/yourusername/golang/pkg/utils/crypto"

// å“ˆå¸Œå¯†ç 
hash, err := crypto.HashPassword("userpassword")
if err != nil {
    // å¤„ç†é”™è¯¯
}

// éªŒè¯å¯†ç 
isValid := crypto.CheckPassword("userpassword", hash)
if !isValid {
    // å¯†ç é”™è¯¯
}
```

### 3.2 AESåŠ å¯†

```go
// ç”Ÿæˆå¯†é’¥
key, err := crypto.GenerateAESKey()
if err != nil {
    // å¤„ç†é”™è¯¯
}

// åŠ å¯†
ciphertext, err := crypto.AESEncrypt("sensitive data", key)
if err != nil {
    // å¤„ç†é”™è¯¯
}

// è§£å¯†
plaintext, err := crypto.AESDecrypt(ciphertext, key)
if err != nil {
    // å¤„ç†é”™è¯¯
}
```

### 3.3 ä½¿ç”¨åŠ å¯†å™¨

```go
// åˆ›å»ºåŠ å¯†å™¨
key, _ := crypto.GenerateAESKey()
encryptor, err := crypto.NewAESEncryptor(key)
if err != nil {
    // å¤„ç†é”™è¯¯
}

// åŠ å¯†
ciphertext, err := encryptor.Encrypt("data")
if err != nil {
    // å¤„ç†é”™è¯¯
}

// è§£å¯†
plaintext, err := encryptor.Decrypt(ciphertext)
if err != nil {
    // å¤„ç†é”™è¯¯
}
```

### 3.4 å¯†é’¥æ´¾ç”Ÿ

```go
// ç”Ÿæˆç›å€¼
salt, err := crypto.GenerateSalt(16)
if err != nil {
    // å¤„ç†é”™è¯¯
}

// æ´¾ç”Ÿå¯†é’¥
key := crypto.DeriveKey("password", salt, 10000)
```

---

## 4. æœ€ä½³å®è·µ

### 4.1 å¯†ç å­˜å‚¨

- ä½¿ç”¨bcryptå“ˆå¸Œå¯†ç ï¼Œä¸è¦ä½¿ç”¨MD5æˆ–SHA256
- è®¾ç½®åˆé€‚çš„costå€¼ï¼ˆé»˜è®¤å€¼é€šå¸¸è¶³å¤Ÿï¼‰
- æ°¸è¿œä¸è¦å­˜å‚¨æ˜æ–‡å¯†ç 

### 4.2 å¯†é’¥ç®¡ç†

- ä½¿ç”¨å®‰å…¨çš„éšæœºæ•°ç”Ÿæˆå™¨ç”Ÿæˆå¯†é’¥
- å¦¥å–„ä¿ç®¡å¯†é’¥ï¼Œä¸è¦ç¡¬ç¼–ç åœ¨ä»£ç ä¸­
- ä½¿ç”¨å¯†é’¥ç®¡ç†ç³»ç»Ÿï¼ˆå¦‚HashiCorp Vaultã€AWS KMSï¼‰

### 4.3 åŠ å¯†ä½¿ç”¨

- ä½¿ç”¨AES-256-GCMæ¨¡å¼ï¼ˆæä¾›è®¤è¯å’ŒåŠ å¯†ï¼‰
- æ¯æ¬¡åŠ å¯†ä½¿ç”¨ä¸åŒçš„nonce
- ä¸è¦é‡å¤ä½¿ç”¨ç›¸åŒçš„å¯†é’¥å’Œnonceç»„åˆ

### 4.4 å¯†é’¥æ´¾ç”Ÿ

- ä½¿ç”¨PBKDF2ä»å¯†ç æ´¾ç”Ÿå¯†é’¥
- è®¾ç½®è¶³å¤Ÿçš„è¿­ä»£æ¬¡æ•°ï¼ˆå»ºè®®10000+ï¼‰
- ä½¿ç”¨éšæœºç›å€¼

---

**æ›´æ–°æ—¥æœŸ**: 2025-11-11
